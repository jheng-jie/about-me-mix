"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[722],{9774:function(e,t,r){let n,o,i,a,u;r.r(t),r.d(t,{addExtensionsToContext:function(){return rN},attributes:function(){return en},bindFramebufferInfo:function(){return rR},bindTransformFeedbackInfo:function(){return rn},bindUniformBlock:function(){return rc},canFilter:function(){return te},canGenerateMipmap:function(){return e7},createAttribsFromArrays:function(){return Q},createAttributeSetters:function(){return ry},createBufferFromArray:function(){return et},createBufferFromTypedArray:function(){return j},createBufferInfoFromArrays:function(){return ee},createBuffersFromArrays:function(){return er},createFramebufferInfo:function(){return rk},createProgram:function(){return tZ},createProgramAsync:function(){return t0},createProgramFromScripts:function(){return t4},createProgramFromSources:function(){return t5},createProgramInfo:function(){return rA},createProgramInfoAsync:function(){return t1},createProgramInfoFromProgram:function(){return rx},createProgramInfos:function(){return rw},createProgramInfosAsync:function(){return rT},createPrograms:function(){return rv},createProgramsAsync:function(){return rE},createSampler:function(){return ts},createSamplers:function(){return tm},createTexture:function(){return tT},createTextures:function(){return t_},createTransformFeedback:function(){return ro},createTransformFeedbackInfo:function(){return rr},createUniformBlockInfo:function(){return rf},createUniformBlockInfoFromProgram:function(){return rl},createUniformBlockSpecFromProgram:function(){return ri},createUniformSetters:function(){return rt},createVAOAndSetAttributes:function(){return rD},createVAOFromBufferInfo:function(){return rL},createVertexArrayInfo:function(){return rU},draw:function(){return rI},drawBufferInfo:function(){return r_},drawObjectList:function(){return rS},framebuffers:function(){return rO},getArray_:function(){return W},getBytesPerElementForInternalFormat:function(){return e8},getContext:function(){return rY},getFormatAndTypeForInternalFormat:function(){return e9},getGLTypeForTypedArray:function(){return E},getGLTypeForTypedArrayType:function(){return T},getNumComponentsForFormat:function(){return tt},getNumComponents_:function(){return N},getTypedArrayTypeForGLType:function(){return P},getWebGLContext:function(){return rX},glEnumToString:function(){return e1},isArrayBuffer:function(){return _},isWebGL1:function(){return e0},isWebGL2:function(){return eJ},loadTextureFromUrl:function(){return tv},m4:function(){return v},primitives:function(){return eZ},programs:function(){return rP},resizeCanvasToDisplaySize:function(){return rq},resizeFramebufferInfo:function(){return rM},resizeTexture:function(){return tP},setAttribInfoBufferFromArray:function(){return Z},setAttributeDefaults_:function(){return D},setAttributePrefix:function(){return U},setAttributes:function(){return rp},setBlockUniforms:function(){return rm},setBuffersAndAttributes:function(){return rh},setDefaultTextureColor:function(){return to},setDefaults:function(){return rW},setEmptyTexture:function(){return tE},setSamplerParameters:function(){return tc},setTextureDefaults_:function(){return ti},setTextureFilteringForSize:function(){return td},setTextureFromArray:function(){return tw},setTextureFromElement:function(){return th},setTextureParameters:function(){return tf},setUniformBlock:function(){return rs},setUniforms:function(){return rd},setUniformsAndBindTextures:function(){return rb},textures:function(){return tS},typedarrays:function(){return S},utils:function(){return e3},v3:function(){return y},vertexArrays:function(){return rj}});/* @license twgl.js 5.3.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */let l=Float32Array;function f(e,t,r){let n=new l(3);return e&&(n[0]=e),t&&(n[1]=t),r&&(n[2]=r),n}function c(e,t,r){return(r=r||new l(3))[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r}function s(e,t,r){return(r=r||new l(3))[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r}function m(e,t,r){r=r||new l(3);let n=e[2]*t[0]-e[0]*t[2],o=e[0]*t[1]-e[1]*t[0];return r[0]=e[1]*t[2]-e[2]*t[1],r[1]=n,r[2]=o,r}function d(e,t){t=t||new l(3);let r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=Math.sqrt(r);return n>1e-5?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=0,t[1]=0,t[2]=0),t}function b(e,t,r){return(r=r||new l(3))[0]=e[0]*t[0],r[1]=e[1]*t[1],r[2]=e[2]*t[2],r}var y=Object.freeze({__proto__:null,add:c,copy:function(e,t){return(t=t||new l(3))[0]=e[0],t[1]=e[1],t[2]=e[2],t},create:f,cross:m,distance:function(e,t){let r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)},distanceSq:function(e,t){let r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o},divide:function(e,t,r){return(r=r||new l(3))[0]=e[0]/t[0],r[1]=e[1]/t[1],r[2]=e[2]/t[2],r},divScalar:function(e,t,r){return(r=r||new l(3))[0]=e[0]/t,r[1]=e[1]/t,r[2]=e[2]/t,r},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},lerp:function(e,t,r,n){return(n=n||new l(3))[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n[2]=e[2]+r*(t[2]-e[2]),n},lerpV:function(e,t,r,n){return(n=n||new l(3))[0]=e[0]+r[0]*(t[0]-e[0]),n[1]=e[1]+r[1]*(t[1]-e[1]),n[2]=e[2]+r[2]*(t[2]-e[2]),n},length:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])},lengthSq:function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},max:function(e,t,r){return(r=r||new l(3))[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r},min:function(e,t,r){return(r=r||new l(3))[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.min(e[2],t[2]),r},mulScalar:function(e,t,r){return(r=r||new l(3))[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r},multiply:b,negate:function(e,t){return(t=t||new l(3))[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},normalize:d,setDefaultType:function(e){let t=l;return l=e,t},subtract:s});let p=Float32Array;function h(e,t){return(t=t||new p(16))[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function x(e){return(e=e||new p(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function g(e,t){t=t||new p(16);let r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],l=e[6],f=e[7],c=e[8],s=e[9],m=e[10],d=e[11],b=e[12],y=e[13],h=e[14],x=e[15],g=m*x,A=h*d,F=l*x,v=h*f,w=l*d,E=m*f,T=o*x,P=h*i,_=o*d,S=m*i,I=o*f,B=l*i,z=c*y,C=b*s,k=a*y,M=b*u,R=a*s,O=c*u,U=r*y,D=b*n,L=r*s,j=c*n,V=r*u,W=a*n,G=g*u+v*s+w*y-(A*u+F*s+E*y),$=A*n+T*s+S*y-(g*n+P*s+_*y),N=F*n+P*u+I*y-(v*n+T*u+B*y),X=E*n+_*u+B*s-(w*n+S*u+I*s),Y=1/(r*G+a*$+c*N+b*X);return t[0]=Y*G,t[1]=Y*$,t[2]=Y*N,t[3]=Y*X,t[4]=Y*(A*a+F*c+E*b-(g*a+v*c+w*b)),t[5]=Y*(g*r+P*c+_*b-(A*r+T*c+S*b)),t[6]=Y*(v*r+T*a+B*b-(F*r+P*a+I*b)),t[7]=Y*(w*r+S*a+I*c-(E*r+_*a+B*c)),t[8]=Y*(z*f+M*d+R*x-(C*f+k*d+O*x)),t[9]=Y*(C*i+U*d+j*x-(z*i+D*d+L*x)),t[10]=Y*(k*i+D*f+V*x-(M*i+U*f+W*x)),t[11]=Y*(O*i+L*f+W*d-(R*i+j*f+V*d)),t[12]=Y*(k*m+O*h+C*l-(R*h+z*l+M*m)),t[13]=Y*(L*h+z*o+D*m-(U*m+j*h+C*o)),t[14]=Y*(U*l+W*h+M*o-(V*h+k*o+D*l)),t[15]=Y*(V*m+R*o+j*l-(L*l+W*m+O*o)),t}function A(e,t,r){r=r||f();let n=t[0],o=t[1],i=t[2],a=n*e[3]+o*e[7]+i*e[11]+e[15];return r[0]=(n*e[0]+o*e[4]+i*e[8]+e[12])/a,r[1]=(n*e[1]+o*e[5]+i*e[9]+e[13])/a,r[2]=(n*e[2]+o*e[6]+i*e[10]+e[14])/a,r}function F(e,t,r){r=r||f();let n=t[0],o=t[1],i=t[2];return r[0]=n*e[0]+o*e[4]+i*e[8],r[1]=n*e[1]+o*e[5]+i*e[9],r[2]=n*e[2]+o*e[6]+i*e[10],r}var v=Object.freeze({__proto__:null,axisRotate:function(e,t,r,n){n=n||new p(16);let o=t[0],i=t[1],a=t[2],u=Math.sqrt(o*o+i*i+a*a);o/=u,i/=u,a/=u;let l=o*o,f=i*i,c=a*a,s=Math.cos(r),m=Math.sin(r),d=1-s,b=l+(1-l)*s,y=o*i*d+a*m,h=o*a*d-i*m,x=o*i*d-a*m,g=f+(1-f)*s,A=i*a*d+o*m,F=o*a*d+i*m,v=i*a*d-o*m,w=c+(1-c)*s,E=e[0],T=e[1],P=e[2],_=e[3],S=e[4],I=e[5],B=e[6],z=e[7],C=e[8],k=e[9],M=e[10],R=e[11];return n[0]=b*E+y*S+h*C,n[1]=b*T+y*I+h*k,n[2]=b*P+y*B+h*M,n[3]=b*_+y*z+h*R,n[4]=x*E+g*S+A*C,n[5]=x*T+g*I+A*k,n[6]=x*P+g*B+A*M,n[7]=x*_+g*z+A*R,n[8]=F*E+v*S+w*C,n[9]=F*T+v*I+w*k,n[10]=F*P+v*B+w*M,n[11]=F*_+v*z+w*R,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n},axisRotation:function(e,t,r){r=r||new p(16);let n=e[0],o=e[1],i=e[2],a=Math.sqrt(n*n+o*o+i*i);n/=a,o/=a,i/=a;let u=n*n,l=o*o,f=i*i,c=Math.cos(t),s=Math.sin(t),m=1-c;return r[0]=u+(1-u)*c,r[1]=n*o*m+i*s,r[2]=n*i*m-o*s,r[3]=0,r[4]=n*o*m-i*s,r[5]=l+(1-l)*c,r[6]=o*i*m+n*s,r[7]=0,r[8]=n*i*m+o*s,r[9]=o*i*m-n*s,r[10]=f+(1-f)*c,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},copy:h,create:function(){return new p(16).fill(0)},frustum:function(e,t,r,n,o,i,a){a=a||new p(16);let u=t-e,l=n-r,f=o-i;return a[0]=2*o/u,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*o/l,a[6]=0,a[7]=0,a[8]=(e+t)/u,a[9]=(n+r)/l,a[10]=i/f,a[11]=-1,a[12]=0,a[13]=0,a[14]=o*i/f,a[15]=0,a},getAxis:function(e,t,r){r=r||f();let n=4*t;return r[0]=e[n+0],r[1]=e[n+1],r[2]=e[n+2],r},getTranslation:function(e,t){return(t=t||f())[0]=e[12],t[1]=e[13],t[2]=e[14],t},identity:x,inverse:g,lookAt:function(e,t,r,a){return a=a||new p(16),n=n||f(),o=o||f(),d(s(e,t,i=i||f()),i),d(m(r,i,n),n),d(m(i,n,o),o),a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=0,a[4]=o[0],a[5]=o[1],a[6]=o[2],a[7]=0,a[8]=i[0],a[9]=i[1],a[10]=i[2],a[11]=0,a[12]=e[0],a[13]=e[1],a[14]=e[2],a[15]=1,a},multiply:function(e,t,r){r=r||new p(16);let n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],l=e[5],f=e[6],c=e[7],s=e[8],m=e[9],d=e[10],b=e[11],y=e[12],h=e[13],x=e[14],g=e[15],A=t[0],F=t[1],v=t[2],w=t[3],E=t[4],T=t[5],P=t[6],_=t[7],S=t[8],I=t[9],B=t[10],z=t[11],C=t[12],k=t[13],M=t[14],R=t[15];return r[0]=n*A+u*F+s*v+y*w,r[1]=o*A+l*F+m*v+h*w,r[2]=i*A+f*F+d*v+x*w,r[3]=a*A+c*F+b*v+g*w,r[4]=n*E+u*T+s*P+y*_,r[5]=o*E+l*T+m*P+h*_,r[6]=i*E+f*T+d*P+x*_,r[7]=a*E+c*T+b*P+g*_,r[8]=n*S+u*I+s*B+y*z,r[9]=o*S+l*I+m*B+h*z,r[10]=i*S+f*I+d*B+x*z,r[11]=a*S+c*I+b*B+g*z,r[12]=n*C+u*k+s*M+y*R,r[13]=o*C+l*k+m*M+h*R,r[14]=i*C+f*k+d*M+x*R,r[15]=a*C+c*k+b*M+g*R,r},negate:function(e,t){return(t=t||new p(16))[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},ortho:function(e,t,r,n,o,i,a){return(a=a||new p(16))[0]=2/(t-e),a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2/(n-r),a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2/(o-i),a[11]=0,a[12]=(t+e)/(e-t),a[13]=(n+r)/(r-n),a[14]=(i+o)/(o-i),a[15]=1,a},perspective:function(e,t,r,n,o){o=o||new p(16);let i=Math.tan(.5*Math.PI-.5*e),a=1/(r-n);return o[0]=i/t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=i,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(r+n)*a,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*n*a*2,o[15]=0,o},rotateX:function(e,t,r){r=r||new p(16);let n=e[4],o=e[5],i=e[6],a=e[7],u=e[8],l=e[9],f=e[10],c=e[11],s=Math.cos(t),m=Math.sin(t);return r[4]=s*n+m*u,r[5]=s*o+m*l,r[6]=s*i+m*f,r[7]=s*a+m*c,r[8]=s*u-m*n,r[9]=s*l-m*o,r[10]=s*f-m*i,r[11]=s*c-m*a,e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r},rotateY:function(e,t,r){r=r||new p(16);let n=e[0],o=e[1],i=e[2],a=e[3],u=e[8],l=e[9],f=e[10],c=e[11],s=Math.cos(t),m=Math.sin(t);return r[0]=s*n-m*u,r[1]=s*o-m*l,r[2]=s*i-m*f,r[3]=s*a-m*c,r[8]=s*u+m*n,r[9]=s*l+m*o,r[10]=s*f+m*i,r[11]=s*c+m*a,e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r},rotateZ:function(e,t,r){r=r||new p(16);let n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],l=e[5],f=e[6],c=e[7],s=Math.cos(t),m=Math.sin(t);return r[0]=s*n+m*u,r[1]=s*o+m*l,r[2]=s*i+m*f,r[3]=s*a+m*c,r[4]=s*u-m*n,r[5]=s*l-m*o,r[6]=s*f-m*i,r[7]=s*c-m*a,e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r},rotationX:function(e,t){t=t||new p(16);let r=Math.cos(e),n=Math.sin(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rotationY:function(e,t){t=t||new p(16);let r=Math.cos(e),n=Math.sin(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rotationZ:function(e,t){t=t||new p(16);let r=Math.cos(e),n=Math.sin(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},scale:function(e,t,r){r=r||new p(16);let n=t[0],o=t[1],i=t[2];return r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=n*e[3],r[4]=o*e[4],r[5]=o*e[5],r[6]=o*e[6],r[7]=o*e[7],r[8]=i*e[8],r[9]=i*e[9],r[10]=i*e[10],r[11]=i*e[11],e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r},scaling:function(e,t){return(t=t||new p(16))[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},setAxis:function(e,t,r,n){n!==e&&(n=h(e,n));let o=4*r;return n[o+0]=t[0],n[o+1]=t[1],n[o+2]=t[2],n},setDefaultType:function(e){let t=p;return p=e,t},setTranslation:function(e,t,r){return e!==(r=r||x())&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11]),r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r},transformDirection:F,transformNormal:function(e,t,r){r=r||f();let n=g(e),o=t[0],i=t[1],a=t[2];return r[0]=o*n[0]+i*n[1]+a*n[2],r[1]=o*n[4]+i*n[5]+a*n[6],r[2]=o*n[8]+i*n[9]+a*n[10],r},transformPoint:A,translate:function(e,t,r){r=r||new p(16);let n=t[0],o=t[1],i=t[2],a=e[0],u=e[1],l=e[2],f=e[3],c=e[4],s=e[5],m=e[6],d=e[7],b=e[8],y=e[9],h=e[10],x=e[11],g=e[12],A=e[13],F=e[14],v=e[15];return e!==r&&(r[0]=a,r[1]=u,r[2]=l,r[3]=f,r[4]=c,r[5]=s,r[6]=m,r[7]=d,r[8]=b,r[9]=y,r[10]=h,r[11]=x),r[12]=a*n+c*o+b*i+g,r[13]=u*n+s*o+y*i+A,r[14]=l*n+m*o+h*i+F,r[15]=f*n+d*o+x*i+v,r},translation:function(e,t){return(t=t||new p(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},transpose:function(e,t){if((t=t||new p(16))===e){let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,t}let r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],l=e[6],f=e[7],c=e[8],s=e[9],m=e[10],d=e[11],b=e[12],y=e[13],h=e[14],x=e[15];return t[0]=r,t[1]=a,t[2]=c,t[3]=b,t[4]=n,t[5]=u,t[6]=s,t[7]=y,t[8]=o,t[9]=l,t[10]=m,t[11]=h,t[12]=i,t[13]=f,t[14]=d,t[15]=x,t}});let w={};{let e=w;e[5120]=Int8Array,e[5121]=Uint8Array,e[5122]=Int16Array,e[5123]=Uint16Array,e[5124]=Int32Array,e[5125]=Uint32Array,e[5126]=Float32Array,e[32819]=Uint16Array,e[32820]=Uint16Array,e[33635]=Uint16Array,e[5131]=Uint16Array,e[33640]=Uint32Array,e[35899]=Uint32Array,e[35902]=Uint32Array,e[36269]=Uint32Array,e[34042]=Uint32Array}function E(e){if(e instanceof Int8Array)return 5120;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return 5121;if(e instanceof Int16Array)return 5122;if(e instanceof Uint16Array)return 5123;if(e instanceof Int32Array)return 5124;if(e instanceof Uint32Array)return 5125;if(e instanceof Float32Array)return 5126;throw Error("unsupported typed array type")}function T(e){if(e===Int8Array)return 5120;if(e===Uint8Array||e===Uint8ClampedArray)return 5121;if(e===Int16Array)return 5122;if(e===Uint16Array)return 5123;if(e===Int32Array)return 5124;if(e===Uint32Array)return 5125;if(e===Float32Array)return 5126;throw Error("unsupported typed array type")}function P(e){let t=w[e];if(!t)throw Error("unknown gl type");return t}let _="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};var S=Object.freeze({__proto__:null,getGLTypeForTypedArray:E,getGLTypeForTypedArrayType:T,getTypedArrayTypeForGLType:P,isArrayBuffer:_});function I(e,t){Object.keys(t).forEach(function(r){t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(t[r]=e[r])})}function B(...e){console.error(...e)}function z(...e){console.warn(...e)}let C=new Map;function k(e,t){if(!e||"object"!=typeof e)return!1;let r=C.get(t);r||(r=new WeakMap,C.set(t,r));let n=r.get(e);if(void 0===n){let o=Object.prototype.toString.call(e);n=o.substring(8,o.length-1)===t,r.set(e,n)}return n}function M(e,t){return"undefined"!=typeof WebGLRenderbuffer&&k(t,"WebGLRenderbuffer")}function R(e,t){return"undefined"!=typeof WebGLTexture&&k(t,"WebGLTexture")}let O={attribPrefix:""};function U(e){O.attribPrefix=e}function D(e){I(e,O)}function L(e,t,r,n,o){e.bindBuffer(t,r),e.bufferData(t,n,o||35044)}function j(e,t,r,n){if("undefined"!=typeof WebGLBuffer&&k(t,"WebGLBuffer"))return t;r=r||34962;let o=e.createBuffer();return L(e,r,o,t,n),o}function V(e){return"indices"===e}function W(e){return e.length?e:e.data}let G=/coord|texture/i,$=/color|colour/i;function N(e,t,r){return e.numComponents||e.size||function(e,t){let r;if(t%(r=G.test(e)?2:$.test(e)?4:3)>0)throw Error(`Can not guess numComponents for attribute '${e}'. Tried ${r} but ${t} values is not evenly divisible by ${r}. You should specify it.`);return r}(t,r||W(e).length)}function X(e,t){if(_(e))return e;if(_(e.data))return e.data;Array.isArray(e)&&(e={data:e});let r=e.type?Y(e.type):void 0;return r||(r=V(t)?Uint16Array:Float32Array),new r(e.data)}function Y(e){return"number"==typeof e?P(e):e||Float32Array}function q(e,t){var r;return{buffer:t.buffer,numValues:24,type:"number"==typeof(r=t.type)?r:r?T(r):5126,arrayType:Y(t.type)}}function H(e,t){let r=t.data||t,n=Y(t.type),o=r*n.BYTES_PER_ELEMENT,i=e.createBuffer();return e.bindBuffer(34962,i),e.bufferData(34962,o,t.drawType||35044),{buffer:i,numValues:r,type:T(n),arrayType:n}}function K(e,t,r){let n=X(t,r);return{arrayType:n.constructor,buffer:j(e,n,void 0,t.drawType),type:E(n),numValues:0}}function Q(e,t){let r={};return Object.keys(t).forEach(function(n){if(!V(n)){let o=t[n],i=o.attrib||o.name||o.attribName||O.attribPrefix+n;if(o.value){if(!Array.isArray(o.value)&&!_(o.value))throw Error("array.value is not array or typedarray");r[i]={value:o.value}}else{let t;t=o.buffer&&o.buffer instanceof WebGLBuffer?q:"number"==typeof o||"number"==typeof o.data?H:K;let{buffer:a,type:u,numValues:l,arrayType:f}=t(e,o,n),c=void 0!==o.normalize?o.normalize:f===Int8Array||f===Uint8Array,s=N(o,n,l);r[i]={buffer:a,numComponents:s,type:u,normalize:c,stride:o.stride||0,offset:o.offset||0,divisor:void 0===o.divisor?void 0:o.divisor,drawType:o.drawType}}}}),e.bindBuffer(34962,null),r}function Z(e,t,r,n){r=X(r),void 0!==n?(e.bindBuffer(34962,t.buffer),e.bufferSubData(34962,n,r)):L(e,34962,t.buffer,r,t.drawType)}let J=["position","positions","a_position"];function ee(e,t,r){let n=Q(e,t),o=Object.assign({},r||{});o.attribs=Object.assign({},r?r.attribs:{},n);let i=t.indices;if(i){let t=X(i,"indices");o.indices=j(e,t,34963),o.numElements=t.length,o.elementType=E(t)}else o.numElements||(o.numElements=function(e,t){var r;let n,o;for(o=0;o<J.length&&!((n=J[o])in t)&&!((n=O.attribPrefix+n)in t);++o);o===J.length&&(n=Object.keys(t)[0]);let i=t[n];if(!i.buffer)return 1;e.bindBuffer(34962,i.buffer);let a=e.getBufferParameter(34962,34660);e.bindBuffer(34962,null);let u=5120===(r=i.type)||5121===r?1:5122===r||5123===r?2:5124===r||5125===r||5126===r?4:0,l=i.numComponents||i.size,f=a/u/l;if(f%1!=0)throw Error(`numComponents ${l} not correct for length ${length}`);return f}(e,o.attribs));return o}function et(e,t,r){let n=X(t,r);return j(e,n,"indices"===r?34963:34962)}function er(e,t){let r={};return Object.keys(t).forEach(function(n){r[n]=et(e,t[n],n)}),t.indices?(r.numElements=t.indices.length,r.elementType=E(X(t.indices))):r.numElements=function(e){let t,r;for(r=0;r<J.length&&!((t=J[r])in e);++r);r===J.length&&(t=Object.keys(e)[0]);let n=e[t],o=W(n).length;if(void 0===o)return 1;let i=N(n,t);if(o%i>0)throw Error(`numComponents ${i} not correct for length ${o}`);return o/i}(t),r}var en=Object.freeze({__proto__:null,createAttribsFromArrays:Q,createBuffersFromArrays:er,createBufferFromArray:et,createBufferFromTypedArray:j,createBufferInfoFromArrays:ee,setAttribInfoBufferFromArray:Z,setAttributePrefix:U,setAttributeDefaults_:D,getNumComponents_:N,getArray_:W});let eo=W,ei=N;function ea(e,t){let r=0;return e.push=function(){for(let t=0;t<arguments.length;++t){let n=arguments[t];if(n instanceof Array||_(n))for(let t=0;t<n.length;++t)e[r++]=n[t];else e[r++]=n}},e.reset=function(e){r=e||0},e.numComponents=t,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function eu(e,t,r){let n=r||Float32Array;return ea(new n(e*t),e)}function el(e){return"indices"!==e}function ef(e,t,r){let n=e.length,o=new Float32Array(3);for(let i=0;i<n;i+=3)r(t,[e[i],e[i+1],e[i+2]],o),e[i]=o[0],e[i+1]=o[1],e[i+2]=o[2]}function ec(e,t,r){r=r||f();let n=t[0],o=t[1],i=t[2];return r[0]=n*e[0]+o*e[1]+i*e[2],r[1]=n*e[4]+o*e[5]+i*e[6],r[2]=n*e[8]+o*e[9]+i*e[10],r}function es(e,t){return ef(e,t,F),e}function em(e,t){return ef(e,g(t),ec),e}function ed(e,t){return ef(e,t,A),e}function eb(e,t){return Object.keys(e).forEach(function(r){let n=e[r];r.indexOf("pos")>=0?ed(n,t):r.indexOf("tan")>=0||r.indexOf("binorm")>=0?es(n,t):r.indexOf("norm")>=0&&em(n,t)}),e}function ey(e,t,r){return{position:{numComponents:2,data:[(t=t||0)+-1*(e=.5*(e||2)),(r=r||0)+-1*e,t+1*e,r+-1*e,t+-1*e,r+1*e,t+1*e,r+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function ep(e,t,r,n,o){e=e||1,t=t||1,r=r||1,n=n||1,o=o||x();let i=(r+1)*(n+1),a=eu(3,i),u=eu(3,i),l=eu(2,i);for(let o=0;o<=n;o++)for(let i=0;i<=r;i++){let f=i/r,c=o/n;a.push(e*f-.5*e,0,t*c-.5*t),u.push(0,1,0),l.push(f,c)}let f=r+1,c=eu(3,r*n*2,Uint16Array);for(let e=0;e<n;e++)for(let t=0;t<r;t++)c.push((e+0)*f+t,(e+1)*f+t,(e+0)*f+t+1),c.push((e+1)*f+t,(e+1)*f+t+1,(e+0)*f+t+1);let s=eb({position:a,normal:u,texcoord:l,indices:c},o);return s}function eh(e,t,r,n,o,i,a){if(t<=0||r<=0)throw Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,o=o||Math.PI,i=i||0,a=a||2*Math.PI;let u=o-n,l=a-i,f=(t+1)*(r+1),c=eu(3,f),s=eu(3,f),m=eu(2,f);for(let o=0;o<=r;o++)for(let a=0;a<=t;a++){let f=a/t,d=o/r,b=l*f+i,y=u*d+n,p=Math.sin(b),h=Math.cos(b),x=Math.sin(y),g=Math.cos(y),A=h*x,F=p*x;c.push(e*A,e*g,e*F),s.push(A,g,F),m.push(1-f,d)}let d=t+1,b=eu(3,t*r*2,Uint16Array);for(let e=0;e<t;e++)for(let t=0;t<r;t++)b.push((t+0)*d+e,(t+0)*d+e+1,(t+1)*d+e),b.push((t+1)*d+e,(t+0)*d+e+1,(t+1)*d+e+1);return{position:c,normal:s,texcoord:m,indices:b}}let ex=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function eg(e){e=e||1;let t=e/2,r=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],i=eu(3,24),a=eu(3,24),u=eu(2,24),l=eu(3,12,Uint16Array);for(let e=0;e<6;++e){let t=ex[e];for(let l=0;l<4;++l){let f=r[t[l]],c=n[e],s=o[l];i.push(f),a.push(c),u.push(s)}let f=4*e;l.push(f+0,f+1,f+2),l.push(f+0,f+2,f+3)}return{position:i,normal:a,texcoord:u,indices:l}}function eA(e,t,r,n,o,i,a){if(n<3)throw Error("radialSubdivisions must be 3 or greater");if(o<1)throw Error("verticalSubdivisions must be 1 or greater");let u=void 0===i||i,l=void 0===a||a,f=(u?2:0)+(l?2:0),c=(n+1)*(o+1+f),s=eu(3,c),m=eu(3,c),d=eu(2,c),b=eu(3,n*(o+f/2)*2,Uint16Array),y=n+1,p=Math.atan2(e-t,r),h=Math.cos(p),x=Math.sin(p),g=u?-2:0,A=o+(l?2:0);for(let i=g;i<=A;++i){let a,u=i/o,l=r*u;i<0?(l=0,u=1,a=e):i>o?(l=r,u=1,a=t):a=e+(t-e)*(i/o),(-2===i||i===o+2)&&(a=0,u=0),l-=r/2;for(let e=0;e<y;++e){let t=Math.sin(e*Math.PI*2/n),r=Math.cos(e*Math.PI*2/n);s.push(t*a,l,r*a),i<0?m.push(0,-1,0):i>o?m.push(0,1,0):0===a?m.push(0,0,0):m.push(t*h,x,r*h),d.push(e/n,1-u)}}for(let e=0;e<o+f;++e)if((1!==e||!u)&&(e!==o+f-2||!l))for(let t=0;t<n;++t)b.push(y*(e+0)+0+t,y*(e+0)+1+t,y*(e+1)+1+t),b.push(y*(e+0)+0+t,y*(e+1)+1+t,y*(e+1)+0+t);return{position:s,normal:m,texcoord:d,indices:b}}function eF(e,t){t=t||[];let r=[];for(let n=0;n<e.length;n+=4){let o=e[n],i=e.slice(n+1,n+4);i.push.apply(i,t);for(let e=0;e<o;++e)r.push.apply(r,i)}return r}function ev(){let e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=eF([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=eF([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,o={position:eu(3,n),texcoord:eu(2,n),normal:eu(3,n),color:eu(4,n,Uint8Array),indices:eu(3,n/3,Uint16Array)};o.position.push(e),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(t),o.color.push(r);for(let e=0;e<n;++e)o.indices.push(e);return o}function ew(e,t,r,n,o,i,a){if(o<=0)throw Error("subdivisionDown must be > 0");i=i||0,a=a||1;let u=a-i,l=(o+1)*8,f=eu(3,l),s=eu(3,l),m=eu(2,l);function d(t,r,a,l,d,y){for(let p=0;p<=o;p++){let h=r/1,x=p/o,g=(h-.5)*2,A=(i+x*u)*Math.PI,F=Math.sin(A),v=Math.cos(A),w=e+(t-e)*F,E=g*n,T=v*e,P=F*w;f.push(E,T,P);let _=c(b([0,F,v],a),l);s.push(_),m.push(h*d+y,x)}}for(let e=0;e<2;e++){let n=(e/1-.5)*2;d(t,e,[1,1,1],[0,0,0],1,0),d(t,e,[0,0,0],[n,0,0],0,0),d(r,e,[1,1,1],[0,0,0],1,0),d(r,e,[0,0,0],[n,0,0],0,1)}let y=eu(3,2*o*4,Uint16Array);function p(e,t){for(let r=0;r<o;++r)y.push(e+r+0,e+r+1,t+r+0),y.push(e+r+1,t+r+1,t+r+0)}let h=o+1;return p(0*h,4*h),p(5*h,7*h),p(6*h,2*h),p(3*h,1*h),{position:f,normal:s,texcoord:m,indices:y}}function eE(e,t,r,n,o,i){return eA(e,e,t,r,n,o,i)}function eT(e,t,r,n,o,i){if(r<3)throw Error("radialSubdivisions must be 3 or greater");if(n<3)throw Error("verticalSubdivisions must be 3 or greater");o=o||0,i=i||2*Math.PI;let a=i-o,u=r+1,l=n+1,f=u*l,c=eu(3,f),s=eu(3,f),m=eu(2,f),d=eu(3,r*n*2,Uint16Array);for(let i=0;i<l;++i){let l=i/n,f=l*Math.PI*2,d=Math.sin(f),b=e+d*t,y=Math.cos(f),p=y*t;for(let e=0;e<u;++e){let t=e/r,n=o+t*a,i=Math.sin(n),u=Math.cos(n),f=i*b,h=u*b,x=i*d,g=u*d;c.push(f,p,h),s.push(x,y,g),m.push(t,1-l)}}for(let e=0;e<n;++e)for(let t=0;t<r;++t){let r=1+t,n=1+e;d.push(u*e+t,u*n+t,u*e+r),d.push(u*n+t,u*n+r,u*e+r)}return{position:c,normal:s,texcoord:m,indices:d}}function eP(e,t,r,n,o){if(t<3)throw Error("divisions must be at least 3");r=r||1,o=o||1,n=n||0;let i=(t+1)*(r+1),a=eu(3,i),u=eu(3,i),l=eu(2,i),f=eu(3,r*t*2,Uint16Array),c=0,s=e-n,m=t+1;for(let e=0;e<=r;++e){let i=n+s*Math.pow(e/r,o);for(let n=0;n<=t;++n){let o=2*Math.PI*n/t,s=i*Math.cos(o),d=i*Math.sin(o);if(a.push(s,0,d),u.push(0,1,0),l.push(1-n/t,e/r),e>0&&n!==t){let e=c+(n+1),t=c+n,r=c+n-m,o=c+(n+1)-m;f.push(e,t,r),f.push(e,r,o)}}c+=t+1}return{position:a,normal:u,texcoord:l,indices:f}}function e_(e){return function(t){let r=e.apply(this,Array.prototype.slice.call(arguments,1));return er(t,r)}}function eS(e){return function(t){let r=e.apply(null,Array.prototype.slice.call(arguments,1));return ee(t,r)}}let eI=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function eB(e,t,r,n){n=n||0;let o=e.length;for(let i=0;i<o;++i)t[r+i]=e[i]+n}function ez(e,t){let r=eo(e),n=new r.constructor(t),o=n;return r.numComponents&&r.numElements&&ea(n,r.numComponents),e.data&&function(e,t,r){e.forEach(function(e){let n=t[e];void 0!==n&&(r[e]=n)})}(eI,e,o={data:n}),o}let eC=eS(ev),ek=e_(ev),eM=eS(eg),eR=e_(eg),eO=eS(ep),eU=e_(ep),eD=eS(eh),eL=e_(eh),ej=eS(eA),eV=e_(eA),eW=eS(ey),eG=e_(ey),e$=eS(ew),eN=e_(ew),eX=eS(eE),eY=e_(eE),eq=eS(eT),eH=e_(eT),eK=eS(eP),eQ=e_(eP);var eZ=Object.freeze({__proto__:null,create3DFBufferInfo:eC,create3DFBuffers:ek,create3DFVertices:ev,createAugmentedTypedArray:eu,createCubeBufferInfo:eM,createCubeBuffers:eR,createCubeVertices:eg,createPlaneBufferInfo:eO,createPlaneBuffers:eU,createPlaneVertices:ep,createSphereBufferInfo:eD,createSphereBuffers:eL,createSphereVertices:eh,createTruncatedConeBufferInfo:ej,createTruncatedConeBuffers:eV,createTruncatedConeVertices:eA,createXYQuadBufferInfo:eW,createXYQuadBuffers:eG,createXYQuadVertices:ey,createCresentBufferInfo:e$,createCresentBuffers:eN,createCresentVertices:ew,createCrescentBufferInfo:e$,createCrescentBuffers:eN,createCrescentVertices:ew,createCylinderBufferInfo:eX,createCylinderBuffers:eY,createCylinderVertices:eE,createTorusBufferInfo:eq,createTorusBuffers:eH,createTorusVertices:eT,createDiscBufferInfo:eK,createDiscBuffers:eQ,createDiscVertices:eP,deindexVertices:function(e){let t=e.indices,r={},n=t.length;return Object.keys(e).filter(el).forEach(function(o){let i=e[o],a=i.numComponents,u=eu(a,n,i.constructor);for(let e=0;e<n;++e){let r=t[e],n=r*a;for(let e=0;e<a;++e)u.push(i[n+e])}r[o]=u}),r},flattenNormals:function(e){if(e.indices)throw Error("can not flatten normals of indexed vertices. deindex them first");let t=e.normal,r=t.length;for(let e=0;e<r;e+=9){let r=t[e+0],n=t[e+1],o=t[e+2],i=t[e+3],a=t[e+4],u=t[e+5],l=t[e+6],f=t[e+7],c=t[e+8],s=r+i+l,m=n+a+f,d=o+u+c,b=Math.sqrt(s*s+m*m+d*d);s/=b,m/=b,d/=b,t[e+0]=s,t[e+1]=m,t[e+2]=d,t[e+3]=s,t[e+4]=m,t[e+5]=d,t[e+6]=s,t[e+7]=m,t[e+8]=d}return e},makeRandomVertexColors:function(e,t){t=t||{};let r=e.position.numElements,n=eu(4,r,Uint8Array),o=t.rand||function(e,t){return t<3?256*Math.random()|0:255};if(e.color=n,e.indices)for(let e=0;e<r;++e)n.push(o(e,0),o(e,1),o(e,2),o(e,3));else{let e=t.vertsPerColor||3,i=r/e;for(let t=0;t<i;++t){let r=[o(t,0),o(t,1),o(t,2),o(t,3)];for(let t=0;t<e;++t)n.push(r)}}return e},reorientDirections:es,reorientNormals:em,reorientPositions:ed,reorientVertices:eb,concatVertices:function(e){let t;let r={};for(let n=0;n<e.length;++n){let o=e[n];Object.keys(o).forEach(function(e){r[e]||(r[e]=[]),t||"indices"===e||(t=e);let n=o[e],i=ei(n,e),a=eo(n),u=a.length/i;r[e].push(u)})}let n=r[t],o={};return Object.keys(r).forEach(function(t){let r=function(t){let r,n=0;for(let o=0;o<e.length;++o){let i=e[o],a=i[t],u=eo(a);n+=u.length,(!r||a.data)&&(r=a)}return{length:n,spec:r}}(t),i=ez(r.spec,r.length);(function(t,r,n){let o=0,i=0;for(let a=0;a<e.length;++a){let u=e[a],l=u[t],f=eo(l);"indices"===t?(eB(f,n,i,o),o+=r[a]):eB(f,n,i),i+=f.length}})(t,n,eo(i)),o[t]=i}),o},duplicateVertices:function(e){let t={};return Object.keys(e).forEach(function(r){let n=e[r],o=eo(n),i=ez(n,o.length);eB(o,eo(i),0),t[r]=i}),t}});function eJ(e){return!!e.texStorage2D}function e0(e){return!e.texStorage2D}let e1=function(){let e={},t={};return function(r,n){return!function(r){let n=r.constructor.name;if(!e[n]){for(let e in r)if("number"==typeof r[e]){let n=t[r[e]];t[r[e]]=n?`${n} | ${e}`:e}e[n]=!0}}(r),t[n]||("number"==typeof n?`0x${n.toString(16)}`:n)}}();var e3=Object.freeze({__proto__:null,glEnumToString:e1,isWebGL1:e0,isWebGL2:eJ});let e2={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},e6=function(){return u=u||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null)},e4={};{let e=e4;e[6406]={numColorComponents:1},e[6409]={numColorComponents:1},e[6410]={numColorComponents:2},e[6407]={numColorComponents:3},e[6408]={numColorComponents:4},e[6403]={numColorComponents:1},e[36244]={numColorComponents:1},e[33319]={numColorComponents:2},e[33320]={numColorComponents:2},e[6407]={numColorComponents:3},e[36248]={numColorComponents:3},e[6408]={numColorComponents:4},e[36249]={numColorComponents:4},e[6402]={numColorComponents:1},e[34041]={numColorComponents:2}}function e5(e){if(!a){let e={};e[6406]={textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},e[6409]={textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},e[6410]={textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]},e[6407]={textureFormat:6407,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},e[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},e[6402]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5125,5123]},e[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[5121]},e[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[5120]},e[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},e[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[5126]},e[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5121]},e[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5120]},e[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5123]},e[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},e[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},e[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},e[33323]={textureFormat:33319,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[5121]},e[36757]={textureFormat:33319,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[5120]},e[33327]={textureFormat:33319,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},e[33328]={textureFormat:33319,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[5126]},e[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5121]},e[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5120]},e[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5123]},e[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},e[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5125]},e[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},e[32849]={textureFormat:6407,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[5121]},e[35905]={textureFormat:6407,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5121]},e[36194]={textureFormat:6407,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},e[36758]={textureFormat:6407,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5120]},e[35898]={textureFormat:6407,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},e[35901]={textureFormat:6407,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},e[34843]={textureFormat:6407,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},e[34837]={textureFormat:6407,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5126]},e[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5121]},e[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5120]},e[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5123]},e[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},e[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5125]},e[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},e[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},e[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},e[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[5120]},e[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},e[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},e[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},e[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},e[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[5126]},e[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5121]},e[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5120]},e[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},e[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5123]},e[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},e[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},e[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5125]},e[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},e[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},e[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5126]},e[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},e[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(e).forEach(function(t){let r=e[t];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(e,t){let n=r.type[t];r.bytesPerElementMap[n]=e})}),a=e}return a[e]}function e8(e,t){let r=e5(e);if(!r)throw"unknown internal format";let n=r.bytesPerElementMap[t];if(void 0===n)throw"unknown internal format";return n}function e9(e){let t=e5(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function e7(e,t,r,n){if(!eJ(e))return(t&t-1)==0&&(r&r-1)==0;let o=e5(n);if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function te(e){let t=e5(e);if(!t)throw"unknown internal format";return t.textureFilterable}function tt(e){let t=e4[e];if(!t)throw"unknown format: "+e;return t.numColorComponents}function tr(e,t,r){return _(t)?E(t):r||5121}function tn(e,t,r,n,o){if(o%1!=0)throw"can't guess dimensions";if(r||n){if(n){if(!r&&(r=o/n)%1)throw"can't guess dimensions"}else if((n=o/r)%1)throw"can't guess dimensions"}else{let e=Math.sqrt(o/(34067===t?6:1));e%1==0?(r=e,n=e):(r=o,n=1)}return{width:r,height:n}}function to(e){e2.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function ti(e){I(e,e2),e.textureColor&&to(e.textureColor)}function ta(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(37443,t.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(37441,t.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(37440,t.flipY)}function tu(e){e.pixelStorei(3317,4),eJ(e)&&(e.pixelStorei(3314,0),e.pixelStorei(32878,0),e.pixelStorei(3316,0),e.pixelStorei(3315,0),e.pixelStorei(32877,0))}function tl(e,t,r,n){n.minMag&&(r.call(e,t,10241,n.minMag),r.call(e,t,10240,n.minMag)),n.min&&r.call(e,t,10241,n.min),n.mag&&r.call(e,t,10240,n.mag),n.wrap&&(r.call(e,t,10242,n.wrap),r.call(e,t,10243,n.wrap),(32879===t||"undefined"!=typeof WebGLSampler&&k(t,"WebGLSampler"))&&r.call(e,t,32882,n.wrap)),n.wrapR&&r.call(e,t,32882,n.wrapR),n.wrapS&&r.call(e,t,10242,n.wrapS),n.wrapT&&r.call(e,t,10243,n.wrapT),n.minLod&&r.call(e,t,33082,n.minLod),n.maxLod&&r.call(e,t,33083,n.maxLod),n.baseLevel&&r.call(e,t,33084,n.baseLevel),n.maxLevel&&r.call(e,t,33085,n.maxLevel)}function tf(e,t,r){let n=r.target||3553;e.bindTexture(n,t),tl(e,n,e.texParameteri,r)}function tc(e,t,r){tl(e,t,e.samplerParameteri,r)}function ts(e,t){let r=e.createSampler();return tc(e,r,t),r}function tm(e,t){let r={};return Object.keys(t).forEach(function(n){r[n]=ts(e,t[n])}),r}function td(e,t,r,n,o,i){r=r||e2.textureOptions,i=i||6408;let a=r.target||3553;if(n=n||r.width,o=o||r.height,e.bindTexture(a,t),e7(e,n,o,i))e.generateMipmap(a);else{let t=te(i)?9729:9728;e.texParameteri(a,10241,t),e.texParameteri(a,10240,t),e.texParameteri(a,10242,33071),e.texParameteri(a,10243,33071)}}function tb(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function ty(e,t){return(t=t||{}).cubeFaceOrder||[34069,34070,34071,34072,34073,34074]}function tp(e,t){let r=ty(e,t),n=r.map(function(e,t){return{face:e,ndx:t}});return n.sort(function(e,t){return e.face-t.face}),n}function th(e,t,r,n){n=n||e2.textureOptions;let o=n.target||3553,i=n.level||0,a=r.width,u=r.height,l=n.internalFormat||n.format||6408,f=e9(l),c=n.format||f.format,s=n.type||f.type;if(ta(e,n),e.bindTexture(o,t),34067===o){let f,m;let d=r.width,b=r.height;if(d/6===b)f=b,m=[0,0,1,0,2,0,3,0,4,0,5,0];else if(b/6===d)f=d,m=[0,0,0,1,0,2,0,3,0,4,0,5];else if(d/3==b/2)f=d/3,m=[0,0,1,0,2,0,0,1,1,1,2,1];else if(d/2==b/3)f=d/2,m=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(r.src?r.src:r.nodeName);let y=e6();y?(y.canvas.width=f,y.canvas.height=f,a=f,u=f,tp(e,n).forEach(function(t){let n=m[2*t.ndx+0]*f,o=m[2*t.ndx+1]*f;y.drawImage(r,n,o,f,f,0,0,f,f),e.texImage2D(t.face,i,l,c,s,y.canvas)}),y.canvas.width=1,y.canvas.height=1):"undefined"!=typeof createImageBitmap&&(a=f,u=f,tp(e,n).forEach(function(d){let b=m[2*d.ndx+0]*f,y=m[2*d.ndx+1]*f;e.texImage2D(d.face,i,l,f,f,0,c,s,null),createImageBitmap(r,b,y,f,f,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(r){ta(e,n),e.bindTexture(o,t),e.texImage2D(d.face,i,l,c,s,r),tb(n)&&td(e,t,n,a,u,l)})}))}else if(32879===o||35866===o){let t=Math.min(r.width,r.height),n=Math.max(r.width,r.height),a=n/t;if(a%1!=0)throw"can not compute 3D dimensions of element";let u=r.width===n?1:0,f=r.height===n?1:0;e.pixelStorei(3317,1),e.pixelStorei(3314,r.width),e.pixelStorei(32878,0),e.pixelStorei(32877,0),e.texImage3D(o,i,l,t,t,t,0,c,s,null);for(let n=0;n<a;++n){let a=n*t*u,l=n*t*f;e.pixelStorei(3316,a),e.pixelStorei(3315,l),e.texSubImage3D(o,i,0,0,n,t,t,1,c,s,r)}tu(e)}else e.texImage2D(o,i,l,c,s,r);tb(n)&&td(e,t,n,a,u,l),tf(e,t,n)}function tx(){}function tg(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function tA(e,t,r){return tg(e)?(setTimeout(function(){r(null,e)}),e):function(e,t,r){var n;let o;if(r=r||tx,t=void 0!==(n=t=void 0!==t?t:e2.crossOrigin)||function(e){if("undefined"!=typeof document){let t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}{let t=new URL(location.href).origin,r=new URL(e,location.href).origin;return r===t}}(e)?n:"anonymous","undefined"!=typeof Image){o=new Image,void 0!==t&&(o.crossOrigin=t);let n=function(){o.removeEventListener("error",i),o.removeEventListener("load",a),o=null},i=function(){let t="couldn't load image: "+e;B(t),r(t,o),n()},a=function(){r(null,o),n()};o.addEventListener("error",i),o.addEventListener("load",a),o.src=e}else if("undefined"!=typeof ImageBitmap){let n,i;let a=function(){r(n,i)},u={};t&&(u.mode="cors"),fetch(e,u).then(function(e){if(!e.ok)throw e;return e.blob()}).then(function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){i=e,setTimeout(a)}).catch(function(e){n=e,setTimeout(a)}),o=null}return o}(e,t,r)}function tF(e,t,r){var n;r=r||e2.textureOptions;let o=r.target||3553;if(e.bindTexture(o,t),!1===r.color)return;let i=_(n=(n=r.color)||e2.textureColor)?n:new Uint8Array([255*n[0],255*n[1],255*n[2],255*n[3]]);if(34067===o)for(let t=0;t<6;++t)e.texImage2D(34069+t,0,6408,1,1,0,6408,5121,i);else 32879===o||35866===o?e.texImage3D(o,0,6408,1,1,1,0,6408,5121,i):e.texImage2D(o,0,6408,1,1,0,6408,5121,i)}function tv(e,t,r,n){n=n||tx,tF(e,t,r=r||e2.textureOptions),r=Object.assign({},r);let o=tA(r.src,r.crossOrigin,function(o,i){o?n(o,t,i):(th(e,t,i,r),n(null,t,i))});return o}function tw(e,t,r,n){let o;n=n||e2.textureOptions;let i=n.target||3553;e.bindTexture(i,t);let a=n.width,u=n.height,l=n.depth,f=n.level||0,c=n.internalFormat||n.format||6408,s=e9(c),m=n.format||s.format,d=n.type||tr(e,r,s.type);if(_(r))r instanceof Uint8ClampedArray&&(r=new Uint8Array(r.buffer));else{let e=P(d);r=new e(r)}let b=e8(c,d),y=r.byteLength/b;if(y%1)throw"length wrong size for format: "+e1(e,m);if(32879===i||35866===i){if(a||u||l)!a||u&&l?!u||a&&l?(a=(o=tn(e,i,a,u,y/l)).width,u=o.height):(a=(o=tn(e,i,a,l,y/u)).width,l=o.height):(u=(o=tn(e,i,u,l,y/a)).width,l=o.height);else{let e=Math.cbrt(y);if(e%1!=0)throw"can't guess cube size of array of numElements: "+y;a=e,u=e,l=e}}else a=(o=tn(e,i,a,u,y)).width,u=o.height;if(tu(e),e.pixelStorei(3317,n.unpackAlignment||1),ta(e,n),34067===i){let t=b/r.BYTES_PER_ELEMENT,o=y/6*t;tp(e,n).forEach(t=>{let n=o*t.ndx,i=r.subarray(n,n+o);e.texImage2D(t.face,f,c,a,u,0,m,d,i)})}else 32879===i||35866===i?e.texImage3D(i,f,c,a,u,l,0,m,d,r):e.texImage2D(i,f,c,a,u,0,m,d,r);return{width:a,height:u,depth:l,type:d}}function tE(e,t,r){let n=r.target||3553;e.bindTexture(n,t);let o=r.level||0,i=r.internalFormat||r.format||6408,a=e9(i),u=r.format||a.format,l=r.type||a.type;if(ta(e,r),34067===n)for(let t=0;t<6;++t)e.texImage2D(34069+t,o,i,r.width,r.height,0,u,l,null);else 32879===n||35866===n?e.texImage3D(n,o,i,r.width,r.height,r.depth,0,u,l,null):e.texImage2D(n,o,i,r.width,r.height,0,u,l,null)}function tT(e,t,r){r=r||tx,t=t||e2.textureOptions;let n=e.createTexture(),o=t.target||3553,i=t.width||1,a=t.height||1,u=t.internalFormat||6408;e.bindTexture(o,n),34067===o&&(e.texParameteri(o,10242,33071),e.texParameteri(o,10243,33071));let l=t.src;if(l){if("function"==typeof l&&(l=l(e,t)),"string"==typeof l)tv(e,n,t,r);else if(_(l)||Array.isArray(l)&&("number"==typeof l[0]||Array.isArray(l[0])||_(l[0]))){let r=tw(e,n,l,t);i=r.width,a=r.height}else Array.isArray(l)&&("string"==typeof l[0]||tg(l[0]))?34067===o?function(e,t,r,n){let o;n=n||tx;let i=r.src;if(6!==i.length)throw"there must be 6 urls for a cubemap";let a=r.level||0,u=r.internalFormat||r.format||6408,l=e9(u),f=r.format||l.format,c=r.type||5121,s=r.target||3553;if(34067!==s)throw"target must be TEXTURE_CUBE_MAP";tF(e,t,r),r=Object.assign({},r);let m=6,d=[],b=ty(e,r);o=i.map(function(i,l){var y;return tA(i,r.crossOrigin,(y=b[l],function(i,l){--m,i?d.push(i):l.width!==l.height?d.push("cubemap face img is not a square: "+l.src):(ta(e,r),e.bindTexture(s,t),5===m?ty().forEach(function(t){e.texImage2D(t,a,u,f,c,l)}):e.texImage2D(y,a,u,f,c,l),tb(r)&&e.generateMipmap(s)),0===m&&n(d.length?d:void 0,t,o)}))})}(e,n,t,r):function(e,t,r,n){let o;n=n||tx;let i=r.src,a=r.internalFormat||r.format||6408,u=e9(a),l=r.format||u.format,f=r.type||5121,c=r.target||35866;if(32879!==c&&35866!==c)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";tF(e,t,r),r=Object.assign({},r);let s=i.length,m=[],d=r.level||0,b=r.width,y=r.height,p=i.length,h=!0;o=i.map(function(i,u){return tA(i,r.crossOrigin,function(i,x){if(--s,i)m.push(i);else{if(ta(e,r),e.bindTexture(c,t),h){h=!1,b=r.width||x.width,y=r.height||x.height,e.texImage3D(c,d,a,b,y,p,0,l,f,null);for(let t=0;t<p;++t)e.texSubImage3D(c,d,0,0,t,b,y,1,l,f,x)}else{let t,r=x;(x.width!==b||x.height!==y)&&(r=(t=e6()).canvas,t.canvas.width=b,t.canvas.height=y,t.drawImage(x,0,0,b,y)),e.texSubImage3D(c,d,0,0,u,b,y,1,l,f,r),t&&r===t.canvas&&(t.canvas.width=0,t.canvas.height=0)}tb(r)&&e.generateMipmap(c)}0===s&&n(m.length?m:void 0,t,o)})})}(e,n,t,r):(th(e,n,l,t),i=l.width,a=l.height)}else tE(e,n,t);return tb(t)&&td(e,n,t,i,a,u),tf(e,n,t),n}function tP(e,t,r,n,o,i){let a;n=n||r.width,o=o||r.height,i=i||r.depth;let u=r.target||3553;e.bindTexture(u,t);let l=r.level||0,f=r.internalFormat||r.format||6408,c=e9(f),s=r.format||c.format,m=r.src;if(a=m&&(_(m)||Array.isArray(m)&&"number"==typeof m[0])?r.type||tr(e,m,c.type):r.type||c.type,34067===u)for(let t=0;t<6;++t)e.texImage2D(34069+t,l,f,n,o,0,s,a,null);else 32879===u||35866===u?e.texImage3D(u,l,f,n,o,i,0,s,a,null):e.texImage2D(u,l,f,n,o,0,s,a,null)}function t_(e,t,r){r=r||tx;let n=0,o=[],i={},a={};function u(){0===n&&setTimeout(function(){r(o.length?o:void 0,i,a)},0)}return Object.keys(t).forEach(function(r){var l;let f;let c=t[r];("string"==typeof(l=c.src)||Array.isArray(l)&&"string"==typeof l[0])&&(f=function(e,t,i){a[r]=i,--n,e&&o.push(e),u()},++n),i[r]=tT(e,c,f)}),u(),i}var tS=Object.freeze({__proto__:null,setTextureDefaults_:ti,createSampler:ts,createSamplers:tm,setSamplerParameters:tc,createTexture:tT,setEmptyTexture:tE,setTextureFromArray:tw,loadTextureFromUrl:tv,setTextureFromElement:th,setTextureFilteringForSize:td,setTextureParameters:tf,setDefaultTextureColor:to,createTextures:t_,resizeTexture:tP,canGenerateMipmap:e7,canFilter:te,getNumComponentsForFormat:tt,getBytesPerElementForInternalFormat:e8,getFormatAndTypeForInternalFormat:e9});function tI(e){return"undefined"!=typeof document&&document.getElementById?document.getElementById(e):null}let tB={};function tz(e,t){return tB[t].bindPoint}function tC(e,t){return function(r){e.uniform1i(t,r)}}function tk(e,t){return function(r){e.uniform1iv(t,r)}}function tM(e,t){return function(r){e.uniform2iv(t,r)}}function tR(e,t){return function(r){e.uniform3iv(t,r)}}function tO(e,t){return function(r){e.uniform4iv(t,r)}}function tU(e,t,r,n){let o=tz(e,t);return eJ(e)?function(t){let i,a;!t||R(e,t)?(i=t,a=null):(i=t.texture,a=t.sampler),e.uniform1i(n,r),e.activeTexture(33984+r),e.bindTexture(o,i),e.bindSampler(r,a)}:function(t){e.uniform1i(n,r),e.activeTexture(33984+r),e.bindTexture(o,t)}}function tD(e,t,r,n,o){let i=tz(e,t),a=new Int32Array(o);for(let e=0;e<o;++e)a[e]=r+e;return eJ(e)?function(t){e.uniform1iv(n,a),t.forEach(function(t,n){let o,u;e.activeTexture(33984+a[n]),R(e,t)?(o=t,u=null):(o=t.texture,u=t.sampler),e.bindSampler(r,u),e.bindTexture(i,o)})}:function(t){e.uniform1iv(n,a),t.forEach(function(t,r){e.activeTexture(33984+a[r]),e.bindTexture(i,t)})}}function tL(e,t){return function(r){if(r.value)switch(e.disableVertexAttribArray(t),r.value.length){case 4:e.vertexAttrib4fv(t,r.value);break;case 3:e.vertexAttrib3fv(t,r.value);break;case 2:e.vertexAttrib2fv(t,r.value);break;case 1:e.vertexAttrib1fv(t,r.value);break;default:throw Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(34962,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,r.numComponents||r.size,r.type||5126,r.normalize||!1,r.stride||0,r.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,r.divisor||0)}}function tj(e,t){return function(r){if(r.value){if(e.disableVertexAttribArray(t),4===r.value.length)e.vertexAttrib4iv(t,r.value);else throw Error("The length of an integer constant value must be 4!")}else e.bindBuffer(34962,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||5124,r.stride||0,r.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,r.divisor||0)}}function tV(e,t){return function(r){if(r.value){if(e.disableVertexAttribArray(t),4===r.value.length)e.vertexAttrib4uiv(t,r.value);else throw Error("The length of an unsigned integer constant value must be 4!")}else e.bindBuffer(34962,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||5125,r.stride||0,r.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,r.divisor||0)}}function tW(e,t,r){let n=r.size,o=r.count;return function(r){e.bindBuffer(34962,r.buffer);let i=r.size||r.numComponents||n,a=i/o,u=r.type||5126,l=tB[u],f=l.size*i,c=r.normalize||!1,s=r.offset||0,m=f/o;for(let n=0;n<o;++n)e.enableVertexAttribArray(t+n),e.vertexAttribPointer(t+n,a,u,c,f,s+m*n),e.vertexAttribDivisor&&e.vertexAttribDivisor(t+n,r.divisor||0)}}tB[5126]={Type:Float32Array,size:4,setter:function(e,t){return function(r){e.uniform1f(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1fv(t,r)}}},tB[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(r){e.uniform2fv(t,r)}},cols:2},tB[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(r){e.uniform3fv(t,r)}},cols:3},tB[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(r){e.uniform4fv(t,r)}},cols:4},tB[5124]={Type:Int32Array,size:4,setter:tC,arraySetter:tk},tB[35667]={Type:Int32Array,size:8,setter:tM,cols:2},tB[35668]={Type:Int32Array,size:12,setter:tR,cols:3},tB[35669]={Type:Int32Array,size:16,setter:tO,cols:4},tB[5125]={Type:Uint32Array,size:4,setter:function(e,t){return function(r){e.uniform1ui(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1uiv(t,r)}}},tB[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(r){e.uniform2uiv(t,r)}},cols:2},tB[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(r){e.uniform3uiv(t,r)}},cols:3},tB[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(r){e.uniform4uiv(t,r)}},cols:4},tB[35670]={Type:Uint32Array,size:4,setter:tC,arraySetter:tk},tB[35671]={Type:Uint32Array,size:8,setter:tM,cols:2},tB[35672]={Type:Uint32Array,size:12,setter:tR,cols:3},tB[35673]={Type:Uint32Array,size:16,setter:tO,cols:4},tB[35674]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2fv(t,!1,r)}},rows:2,cols:2},tB[35675]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3fv(t,!1,r)}},rows:3,cols:3},tB[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4fv(t,!1,r)}},rows:4,cols:4},tB[35685]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x3fv(t,!1,r)}},rows:2,cols:3},tB[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x4fv(t,!1,r)}},rows:2,cols:4},tB[35687]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x2fv(t,!1,r)}},rows:3,cols:2},tB[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x4fv(t,!1,r)}},rows:3,cols:4},tB[35689]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4x2fv(t,!1,r)}},rows:4,cols:2},tB[35690]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4x3fv(t,!1,r)}},rows:4,cols:3},tB[35678]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:3553},tB[35680]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:34067},tB[35679]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:32879},tB[35682]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:3553},tB[36289]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:35866},tB[36292]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:35866},tB[36293]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:34067},tB[36298]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:3553},tB[36299]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:32879},tB[36300]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:34067},tB[36303]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:35866},tB[36306]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:3553},tB[36307]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:32879},tB[36308]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:34067},tB[36311]={Type:null,size:0,setter:tU,arraySetter:tD,bindPoint:35866};let tG={};tG[5126]={size:4,setter:tL},tG[35664]={size:8,setter:tL},tG[35665]={size:12,setter:tL},tG[35666]={size:16,setter:tL},tG[5124]={size:4,setter:tj},tG[35667]={size:8,setter:tj},tG[35668]={size:12,setter:tj},tG[35669]={size:16,setter:tj},tG[5125]={size:4,setter:tV},tG[36294]={size:8,setter:tV},tG[36295]={size:12,setter:tV},tG[36296]={size:16,setter:tV},tG[35670]={size:4,setter:tj},tG[35671]={size:8,setter:tj},tG[35672]={size:12,setter:tj},tG[35673]={size:16,setter:tj},tG[35674]={size:4,setter:tW,count:2},tG[35675]={size:9,setter:tW,count:3},tG[35676]={size:16,setter:tW,count:4};let t$=/ERROR:\s*\d+:(\d+)/gi,tN=/^[ \t]*\n/;function tX(e){let t=0;return tN.test(e)&&(t=1,e=e.replace(tN,"")),{lineOffset:t,shaderSource:e}}function tY(e,t){return e.errorCallback(t),e.callback&&setTimeout(()=>{e.callback(`${t}
${e.errors.join("\n")}`)}),null}function tq(e,t,r){let n,o,i;if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e)r=e,e=void 0;else if(e&&!Array.isArray(e)){let t=e;r=t.errorCallback,e=t.attribLocations,n=t.transformFeedbackVaryings,o=t.transformFeedbackMode,i=t.callback}let a=r||B,u=[],l={errorCallback(e,...t){u.push(e),a(e,...t)},transformFeedbackVaryings:n,transformFeedbackMode:o,callback:i,errors:u};{let r={};Array.isArray(e)?e.forEach(function(e,n){r[e]=t?t[n]:n}):r=e||{},l.attribLocations=r}return l}let tH=["VERTEX_SHADER","FRAGMENT_SHADER"],tK=(e=0)=>new Promise(t=>setTimeout(t,e));function tQ(e,t,r){let n=e.createProgram(),{attribLocations:o,transformFeedbackVaryings:i,transformFeedbackMode:a}=tq(r);for(let r=0;r<t.length;++r){let o=t[r];if("string"==typeof o){let t=tI(o),i=t?t.text:o,a=e[tH[r]];if(t&&t.type){var u;a=((u=t.type).indexOf("frag")>=0?35632:u.indexOf("vert")>=0?35633:void 0)||a}o=e.createShader(a),e.shaderSource(o,tX(i).shaderSource),e.compileShader(o),e.attachShader(n,o)}}Object.entries(o).forEach(([t,r])=>e.bindAttribLocation(n,r,t));{let t=i;t&&(t.attribs&&(t=t.attribs),Array.isArray(t)||(t=Object.keys(t)),e.transformFeedbackVaryings(n,t,a||35981))}return e.linkProgram(n),n}function tZ(e,t,r,n,o){let i=tq(r,n,o),a=new Set(t),u=tQ(e,t,i);function l(e,t){let r=t6(e,t,i.errorCallback);return r&&function(e,t,r){let n=e.getAttachedShaders(t);for(let t of n)r.has(t)&&e.deleteShader(t);e.deleteProgram(t)}(e,t,a),r}if(i.callback){t3(e,u).then(()=>{let t=l(e,u);i.callback(t,t?void 0:u)});return}return l(e,u)?void 0:u}function tJ(e){return function(t,r,...n){return new Promise((o,i)=>{let a=tq(...n);a.callback=(e,t)=>{e?i(e):o(t)},e(t,r,a)})}}let t0=tJ(tZ),t1=tJ(rA);async function t3(e,t){let r=e.getExtension("KHR_parallel_shader_compile"),n=r?(e,t)=>e.getProgramParameter(t,r.COMPLETION_STATUS_KHR):()=>!0,o=0;do await tK(o),o=1e3/60;while(!n(e,t))}async function t2(e,t){for(let r of Object.values(t))await t3(e,r)}function t6(e,t,r){r=r||B;let n=e.getProgramParameter(t,35714);if(!n){let n=e.getProgramInfoLog(t);r(`Error in program linking: ${n}`);let o=e.getAttachedShaders(t),i=o.map(t=>(function(e,t,r,n){n=n||B;let o=e.getShaderParameter(r,35713);if(!o){let o=e.getShaderInfoLog(r),{lineOffset:i,shaderSource:a}=tX(e.getShaderSource(r)),u=`${function(e,t="",r=0){let n=[...t.matchAll(t$)],o=new Map(n.map((e,r)=>{let o=parseInt(e[1]),i=n[r+1],a=i?i.index:t.length,u=t.substring(e.index,a);return[o-1,u]}));return e.split("\n").map((e,t)=>{let n=o.get(t);return`${t+1+r}: ${e}${n?`

^^^ ${n}`:""}`}).join("\n")}(a,o,i)}
Error compiling ${e1(e,t)}: ${o}`;return n(u),u}return""})(e,e.getShaderParameter(t,e.SHADER_TYPE),t,r));return`${n}
${i.filter(e=>e).join("\n")}`}}function t4(e,t,r,n,o){let i=tq(r,n,o),a=[];for(let e of t){let t=tI(e);if(!t)return tY(i,`unknown script element: ${e}`);a.push(t.text)}return tZ(e,a,i)}function t5(e,t,r,n,o){return tZ(e,t,r,n,o)}function t8(e){let t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}let t9=/(\.|\[|]|\w+)/g,t7=e=>e>="0"&&e<="9";function re(e,t,r,n){let o=e.split(t9).filter(e=>""!==e),i=0,a="";for(;;){let e=o[i++];a+=e;let u=t7(e[0]),l=u?parseInt(e):e;u&&(a+=o[i++]);let f=i===o.length;if(f){r[l]=t;break}{let e=o[i++],t="["===e,u=r[l]||(t?[]:{});r[l]=u,r=u,n[a]=n[a]||function(e){return function(t){(function e(t,r){for(let n in r){let o=t[n];"function"==typeof o?o(r[n]):e(t[n],r[n])}})(e,t)}}(u),a+=e}}}function rt(e,t){let r=0,n={},o={},i=e.getProgramParameter(t,35718);for(let a=0;a<i;++a){let i=e.getActiveUniform(t,a);if(t8(i))continue;let u=i.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));let l=e.getUniformLocation(t,i.name);if(l){let t=function(t,n,o){let i;let a=n.name.endsWith("[0]"),u=n.type,l=tB[u];if(!l)throw Error(`unknown type: 0x${u.toString(16)}`);if(l.bindPoint){let t=r;r+=n.size,i=a?l.arraySetter(e,u,t,o,n.size):l.setter(e,u,t,o,n.size)}else i=l.arraySetter&&a?l.arraySetter(e,o):l.setter(e,o);return i.location=o,i}(0,i,l);n[u]=t,re(u,t,o,n)}}return n}function rr(e,t){let r={},n=e.getProgramParameter(t,35971);for(let o=0;o<n;++o){let n=e.getTransformFeedbackVarying(t,o);r[n.name]={index:o,type:n.type,size:n.size}}return r}function rn(e,t,r){for(let n in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),r.attribs&&(r=r.attribs),r){let o=t[n];if(o){let t=r[n];t.offset?e.bindBufferRange(35982,o.index,t.buffer,t.offset,t.size):e.bindBufferBase(35982,o.index,t.buffer)}}}function ro(e,t,r){let n=e.createTransformFeedback();return e.bindTransformFeedback(36386,n),e.useProgram(t.program),rn(e,t,r),e.bindTransformFeedback(36386,null),n}function ri(e,t){let r=e.getProgramParameter(t,35718),n=[],o=[];for(let i=0;i<r;++i){o.push(i),n.push({});let r=e.getActiveUniform(t,i);n[i].name=r.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(r){let i=r[0],a=r[1];e.getActiveUniforms(t,o,e[i]).forEach(function(e,t){n[t][a]=e})});let i={},a=e.getProgramParameter(t,35382);for(let r=0;r<a;++r){let n=e.getActiveUniformBlockName(t,r),o={index:e.getUniformBlockIndex(t,n),usedByVertexShader:e.getActiveUniformBlockParameter(t,r,35396),usedByFragmentShader:e.getActiveUniformBlockParameter(t,r,35398),size:e.getActiveUniformBlockParameter(t,r,35392),uniformIndices:e.getActiveUniformBlockParameter(t,r,35395)};o.used=o.usedByVertexShader||o.usedByFragmentShader,i[n]=o}return{blockSpecs:i,uniformData:n}}let ra=/\[\d+\]\.$/,ru=(e,t)=>((e+(t-1))/t|0)*t;function rl(e,t,r,n){let o=r.blockSpecs,i=r.uniformData,a=o[n];if(!a)return z("no uniform block object named:",n),{name:n,uniforms:{}};let u=new ArrayBuffer(a.size),l=e.createBuffer(),f=a.index;e.bindBuffer(35345,l),e.uniformBlockBinding(t,a.index,f);let c=n+".";ra.test(c)&&(c=c.replace(ra,"."));let s={},m={},d={};return a.uniformIndices.forEach(function(e){let t=i[e],r=t.name;r.startsWith(c)&&(r=r.substr(c.length));let n=r.endsWith("[0]");n&&(r=r.substr(0,r.length-3));let o=tB[t.type],a=o.Type,l=n?ru(o.size,16)*t.size:o.size*t.size,f=new a(u,t.offset,l/a.BYTES_PER_ELEMENT);s[r]=f;let b=function(e,t,r,n){if(!t&&!r)return function(t){t.length?e.set(t):e[0]=t};{n=n||1;let t=e.length,r=t/4;return function(t){let o=0,i=0;for(let a=0;a<r;++a){for(let r=0;r<n;++r)e[o++]=t[i++];o+=4-n}}}}(f,n,o.rows,o.cols);m[r]=b,re(r,b,d,m)}),{name:n,array:u,asFloat:new Float32Array(u),buffer:l,uniforms:s,setters:m}}function rf(e,t,r){return rl(e,t.program,t.uniformBlockSpec,r)}function rc(e,t,r){let n=t.uniformBlockSpec||t,o=n.blockSpecs[r.name];if(o){let t=o.index;return e.bindBufferRange(35345,t,r.buffer,r.offset||0,r.array.byteLength),!0}return!1}function rs(e,t,r){rc(e,t,r)&&e.bufferData(35345,r.array,35048)}function rm(e,t){let r=e.setters;for(let e in t){let n=r[e];if(n){let r=t[e];n(r)}}}function rd(e,...t){let r=e.uniformSetters||e,n=t.length;for(let e=0;e<n;++e){let n=t[e];if(Array.isArray(n)){let e=n.length;for(let t=0;t<e;++t)rd(r,n[t])}else for(let e in n){let t=r[e];t&&t(n[e])}}}let rb=rd;function ry(e,t){let r={},n=e.getProgramParameter(t,35721);for(let o=0;o<n;++o){let n=e.getActiveAttrib(t,o);if(t8(n))continue;let i=e.getAttribLocation(t,n.name),a=tG[n.type],u=a.setter(e,i,a);u.location=i,r[n.name]=u}return r}function rp(e,t){for(let r in t){let n=e[r];n&&n(t[r])}}function rh(e,t,r){r.vertexArrayObject?e.bindVertexArray(r.vertexArrayObject):(rp(t.attribSetters||t,r.attribs),r.indices&&e.bindBuffer(34963,r.indices))}function rx(e,t){let r=rt(e,t),n=ry(e,t),o={program:t,uniformSetters:r,attribSetters:n};return eJ(e)&&(o.uniformBlockSpec=ri(e,t),o.transformFeedbackInfo=rr(e,t)),o}let rg=/\s|{|}|;/;function rA(e,t,r,n,o){let i=tq(r,n,o),a=[];if(t=t.map(function(e){if(!rg.test(e)){let t=tI(e);if(t)e=t.text;else{let t=`no element with id: ${e}`;i.errorCallback(t),a.push(t)}}return e}),a.length)return tY(i,"");let u=i.callback;u&&(i.callback=(t,r)=>{u(t,t?void 0:rx(e,r))});let l=tZ(e,t,i,void 0,void 0);return l?rx(e,l):null}function rF(e,t,r,n,o){for(let[i,a]of Object.entries(t)){let u={...o},l=r[i];Array.isArray(l)||Object.assign(u,l);let f=t6(e,a,u.errorCallback);if(f){for(let r of Object.values(t)){let t=e.getAttachedShaders(r);for(let o of(e.deleteProgram(r),t))n.has(o)||e.deleteShader(o)}return f}}}function rv(e,t,r={}){let n=new Set,o=Object.fromEntries(Object.entries(t).map(([t,o])=>{let i={...r},a=Array.isArray(o)?o:o.shaders;return Array.isArray(o)||Object.assign(i,o),a.forEach(n.add,n),[t,tQ(e,a,i)]}));if(r.callback){t2(e,o).then(()=>{let i=rF(e,o,t,n,r);r.callback(i,i?void 0:o)});return}let i=rF(e,o,t,n,r);return i?void 0:o}function rw(e,t,r){function n(e,t){return Object.fromEntries(Object.entries(t).map(([t,r])=>[t,rx(e,r)]))}r=tq(r);let o=r.callback;o&&(r.callback=(t,r)=>{o(t,t?void 0:n(e,r))});let i=rv(e,t,r);if(!o&&i)return n(e,i)}let rE=tJ(rv),rT=tJ(rw);var rP=Object.freeze({__proto__:null,createAttributeSetters:ry,createProgram:tZ,createProgramAsync:t0,createPrograms:rv,createProgramsAsync:rE,createProgramFromScripts:t4,createProgramFromSources:t5,createProgramInfo:rA,createProgramInfoAsync:t1,createProgramInfos:rw,createProgramInfosAsync:rT,createProgramInfoFromProgram:rx,createUniformSetters:rt,createUniformBlockSpecFromProgram:ri,createUniformBlockInfoFromProgram:rl,createUniformBlockInfo:rf,createTransformFeedback:ro,createTransformFeedbackInfo:rr,bindTransformFeedbackInfo:rn,setAttributes:rp,setBuffersAndAttributes:rh,setUniforms:rd,setUniformsAndBindTextures:rb,setUniformBlock:rs,setBlockUniforms:rm,bindUniformBlock:rc});function r_(e,t,r,n,o,i){r=void 0===r?4:r;let a=t.indices,u=t.elementType,l=void 0===n?t.numElements:n;o=void 0===o?0:o,u||a?void 0!==i?e.drawElementsInstanced(r,l,void 0===u?5123:t.elementType,o,i):e.drawElements(r,l,void 0===u?5123:t.elementType,o):void 0!==i?e.drawArraysInstanced(r,o,l,i):e.drawArrays(r,o,l)}function rS(e,t){let r=null,n=null;t.forEach(function(t){if(!1===t.active)return;let o=t.programInfo,i=t.vertexArrayInfo||t.bufferInfo,a=!1,u=void 0===t.type?4:t.type;o!==r&&(r=o,e.useProgram(o.program),a=!0),(a||i!==n)&&(n&&n.vertexArrayObject&&!i.vertexArrayObject&&e.bindVertexArray(null),n=i,rh(e,o,i)),rd(o,t.uniforms),r_(e,i,u,t.count,t.offset,t.instanceCount)}),n&&n.vertexArrayObject&&e.bindVertexArray(null)}var rI=Object.freeze({__proto__:null,drawBufferInfo:r_,drawObjectList:rS});let rB=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],rz={};rz[34041]=33306,rz[6401]=36128,rz[36168]=36128,rz[6402]=36096,rz[33189]=36096,rz[33190]=36096,rz[36012]=36096,rz[35056]=33306,rz[36013]=33306;let rC={};function rk(e,t,r,n){let o=e.createFramebuffer();e.bindFramebuffer(36160,o),r=r||e.drawingBufferWidth,n=n||e.drawingBufferHeight,t=t||rB;let i=[],a={framebuffer:o,attachments:[],width:r,height:n};return t.forEach(function(t,o){var u,l;let f=t.attachment,c=t.samples,s=t.format,m=t.attachmentPoint||(u=t.internalFormat,rz[s]||rz[u]);if(m||(m=36064+o),(l=m)>=36064&&l<36096&&i.push(m),!f){if(void 0!==c||rC[s])f=e.createRenderbuffer(),e.bindRenderbuffer(36161,f),c>1?e.renderbufferStorageMultisample(36161,c,s,r,n):e.renderbufferStorage(36161,s,r,n);else{let o=Object.assign({},t);o.width=r,o.height=n,void 0===o.auto&&(o.auto=!1,o.min=o.min||o.minMag||9729,o.mag=o.mag||o.minMag||9729,o.wrapS=o.wrapS||o.wrap||33071,o.wrapT=o.wrapT||o.wrap||33071),f=tT(e,o)}}if(M(e,f))e.framebufferRenderbuffer(36160,m,36161,f);else if(R(e,f))void 0!==t.layer?e.framebufferTextureLayer(36160,m,f,t.level||0,t.layer):e.framebufferTexture2D(36160,m,t.target||3553,f,t.level||0);else throw Error("unknown attachment type");a.attachments.push(f)}),e.drawBuffers&&e.drawBuffers(i),a}function rM(e,t,r,n,o){n=n||e.drawingBufferWidth,o=o||e.drawingBufferHeight,t.width=n,t.height=o,(r=r||rB).forEach(function(r,i){let a=t.attachments[i],u=r.format,l=r.samples;if(void 0!==l||M(e,a))e.bindRenderbuffer(36161,a),l>1?e.renderbufferStorageMultisample(36161,l,u,n,o):e.renderbufferStorage(36161,u,n,o);else if(R(e,a))tP(e,a,r,n,o);else throw Error("unknown attachment type")})}function rR(e,t,r){r=r||36160,t?(e.bindFramebuffer(r,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(r,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))}rC[32854]=!0,rC[32855]=!0,rC[36194]=!0,rC[34041]=!0,rC[33189]=!0,rC[6401]=!0,rC[36168]=!0;var rO=Object.freeze({__proto__:null,bindFramebufferInfo:rR,createFramebufferInfo:rk,resizeFramebufferInfo:rM});function rU(e,t,r){let n=e.createVertexArray();return e.bindVertexArray(n),t.length||(t=[t]),t.forEach(function(t){rh(e,t,r)}),e.bindVertexArray(null),{numElements:r.numElements,elementType:r.elementType,vertexArrayObject:n}}function rD(e,t,r,n){let o=e.createVertexArray();return e.bindVertexArray(o),rp(t,r),n&&e.bindBuffer(34963,n),e.bindVertexArray(null),o}function rL(e,t,r){return rD(e,t.attribSetters||t,r.attribs,r.indices)}var rj=Object.freeze({__proto__:null,createVertexArrayInfo:rU,createVAOAndSetAttributes:rD,createVAOFromBufferInfo:rL});let rV={addExtensionsToContext:!0};function rW(e){I(e,rV),D(e),ti(e)}let rG=/^(.*?)_/,r$=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function rN(e){for(let t=0;t<r$.length;++t)!function(e,t){e1(e,0);let r=e.getExtension(t);if(r){let n={},o=rG.exec(t)[1],i="_"+o;for(let t in r){let a=r[t],u="function"==typeof a,l=u?o:i,f=t;t.endsWith(l)&&(f=t.substring(0,t.length-l.length)),void 0!==e[f]?u||e[f]===a||z(f,e[f],a,t):u?e[f]=function(e){return function(){return e.apply(r,arguments)}}(a):(e[f]=a,n[f]=a)}n.constructor={name:r.constructor.name},e1(n,0)}}(e,r$[t])}function rX(e,t){let r=function(e,t){let r=["webgl","experimental-webgl"],n=null;for(let o=0;o<r.length;++o)if(n=e.getContext(r[o],t)){rV.addExtensionsToContext&&rN(n);break}return n}(e,t);return r}function rY(e,t){let r=function(e,t){let r=["webgl2","webgl","experimental-webgl"],n=null;for(let o=0;o<r.length;++o)if(n=e.getContext(r[o],t)){rV.addExtensionsToContext&&rN(n);break}return n}(e,t);return r}function rq(e,t){t=Math.max(0,t=t||1);let r=e.clientWidth*t|0,n=e.clientHeight*t|0;return(e.width!==r||e.height!==n)&&(e.width=r,e.height=n,!0)}}}]);