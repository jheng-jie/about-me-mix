var st=Object.defineProperty,ct=Object.defineProperties;var lt=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var He=(e,o,c)=>o in e?st(e,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[o]=c,M=(e,o)=>{for(var c in o||(o={}))Ve.call(o,c)&&He(e,c,o[c]);if(de)for(var c of de(o))Ke.call(o,c)&&He(e,c,o[c]);return e},J=(e,o)=>ct(e,lt(o));var ze=(e,o)=>{var c={};for(var i in e)Ve.call(e,i)&&o.indexOf(i)<0&&(c[i]=e[i]);if(e!=null&&de)for(var i of de(e))o.indexOf(i)<0&&Ke.call(e,i)&&(c[i]=e[i]);return c};var I=(e,o,c)=>new Promise((i,d)=>{var p=m=>{try{f(c.next(m))}catch(y){d(y)}},P=m=>{try{f(c.throw(m))}catch(y){d(y)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,P);f((c=c.apply(e,o)).next())});import{o as Be,t as pe}from"../chunks/index.bef1c4a7.js";import{S as nt,a as at,I as H,g as Ge,f as Je,b as Ee,c as he,s as V,i as Ye,d as ae,P as We,e as ft}from"../chunks/singletons.150aafe3.js";import{b as W}from"../chunks/paths.841793e5.js";import{R as Xe,H as re}from"../chunks/control.e7f5239e.js";function ut(e,o){return e==="/"||o==="ignore"?e:o==="never"?e.endsWith("/")?e.slice(0,-1):e:o==="always"&&!e.endsWith("/")?e+"/":e}function dt(e){return e.split("%25").map(decodeURI).join("%25")}function pt(e){for(const o in e)e[o]=decodeURIComponent(e[o]);return e}const ht=["href","pathname","search","searchParams","toString","toJSON"];function mt(e,o){const c=new URL(e);for(const i of ht){let d=c[i];Object.defineProperty(c,i,{get(){return o(),d},enumerable:!0,configurable:!0})}return gt(c),c}function gt(e){Object.defineProperty(e,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const yt="/__data.json";function wt(e){return e.replace(/\/$/,"")+yt}function rt(e){try{return JSON.parse(sessionStorage[e])}catch(o){}}function Ze(e,o){const c=JSON.stringify(o);try{sessionStorage[e]=c}catch(i){}}function _t(...e){let o=5381;for(const c of e)if(typeof c=="string"){let i=c.length;for(;i;)o=o*33^c.charCodeAt(--i)}else if(ArrayBuffer.isView(c)){const i=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);let d=i.length;for(;d;)o=o*33^i[--d]}else throw new TypeError("value must be a string or TypedArray");return(o>>>0).toString(36)}const me=window.fetch;window.fetch=(e,o)=>((e instanceof Request?e.method:(o==null?void 0:o.method)||"GET")!=="GET"&&oe.delete(Le(e)),me(e,o));const oe=new Map;function bt(e,o){const c=Le(e,o),i=document.querySelector(c);if(i!=null&&i.textContent){const d=JSON.parse(i.textContent),{body:p}=d,P=ze(d,["body"]),f=i.getAttribute("data-ttl");return f&&oe.set(c,{body:p,init:P,ttl:1e3*Number(f)}),Promise.resolve(new Response(p,P))}return me(e,o)}function vt(e,o,c){if(oe.size>0){const i=Le(e,c),d=oe.get(i);if(d){if(performance.now()<d.ttl&&["default","force-cache","only-if-cached",void 0].includes(c==null?void 0:c.cache))return new Response(d.body,d.init);oe.delete(i)}}return me(o,c)}function Le(e,o){let i=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;if(o!=null&&o.headers||o!=null&&o.body){const d=[];o.headers&&d.push([...new Headers(o.headers)].join(",")),o.body&&(typeof o.body=="string"||ArrayBuffer.isView(o.body))&&d.push(o.body),i+=`[data-hash="${_t(...d)}"]`}return i}const Et=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function kt(e){const o=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${Rt(e).map(i=>{const d=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(i);if(d)return o.push({name:d[1],matcher:d[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const p=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(i);if(p)return o.push({name:p[1],matcher:p[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!i)return;const P=i.split(/\[(.+?)\](?!\])/);return"/"+P.map((m,y)=>{if(y%2){if(m.startsWith("x+"))return ke(String.fromCharCode(parseInt(m.slice(2),16)));if(m.startsWith("u+"))return ke(String.fromCharCode(...m.slice(2).split("-").map(j=>parseInt(j,16))));const g=Et.exec(m);if(!g)throw new Error(`Invalid param: ${m}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,D,T,E,$]=g;return o.push({name:E,matcher:$,optional:!!D,rest:!!T,chained:T?y===1&&P[0]==="":!1}),T?"(.*?)":D?"([^/]*)?":"([^/]+?)"}return ke(m)}).join("")}).join("")}/?$`),params:o}}function St(e){return!/^\([^)]+\)$/.test(e)}function Rt(e){return e.slice(1).split("/").filter(St)}function Lt(e,o,c){const i={},d=e.slice(1);let p=0;for(let P=0;P<o.length;P+=1){const f=o[P],m=d[P-p];if(f.chained&&f.rest&&p){i[f.name]=d.slice(P-p,P+1).filter(y=>y).join("/"),p=0;continue}if(m===void 0){f.rest&&(i[f.name]="");continue}if(!f.matcher||c[f.matcher](m)){i[f.name]=m;continue}if(f.optional&&f.chained){p++;continue}return}if(!p)return i}function ke(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function It({nodes:e,server_loads:o,dictionary:c,matchers:i}){const d=new Set(o);return Object.entries(c).map(([f,[m,y,g]])=>{const{pattern:D,params:T}=kt(f),E={id:f,exec:$=>{const j=D.exec($);if(j)return Lt(j,T,i)},errors:[1,...g||[]].map($=>e[$]),layouts:[0,...y||[]].map(P),leaf:p(m)};return E.errors.length=E.layouts.length=Math.max(E.errors.length,E.layouts.length),E});function p(f){const m=f<0;return m&&(f=~f),[m,e[f]]}function P(f){return f===void 0?f:[d.has(f),e[f]]}}function At(e){return I(this,null,function*(){var o;for(const c in e)if(typeof((o=e[c])==null?void 0:o.then)=="function")return Object.fromEntries(yield Promise.all(Object.entries(e).map(p=>I(this,[p],function*([i,d]){return[i,yield d]}))));return e})}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");const Pt=-1,Ot=-2,Ut=-3,jt=-4,Nt=-5,Tt=-6;function $t(e,o){if(typeof e=="number")return d(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const c=e,i=Array(c.length);function d(p,P=!1){if(p===Pt)return;if(p===Ut)return NaN;if(p===jt)return 1/0;if(p===Nt)return-1/0;if(p===Tt)return-0;if(P)throw new Error("Invalid input");if(p in i)return i[p];const f=c[p];if(!f||typeof f!="object")i[p]=f;else if(Array.isArray(f))if(typeof f[0]=="string"){const m=f[0],y=o==null?void 0:o[m];if(y)return i[p]=y(d(f[1]));switch(m){case"Date":i[p]=new Date(f[1]);break;case"Set":const g=new Set;i[p]=g;for(let E=1;E<f.length;E+=1)g.add(d(f[E]));break;case"Map":const D=new Map;i[p]=D;for(let E=1;E<f.length;E+=2)D.set(d(f[E]),d(f[E+1]));break;case"RegExp":i[p]=new RegExp(f[1],f[2]);break;case"Object":i[p]=Object(f[1]);break;case"BigInt":i[p]=BigInt(f[1]);break;case"null":const T=Object.create(null);i[p]=T;for(let E=1;E<f.length;E+=2)T[f[E]]=d(f[E+1]);break;default:throw new Error(`Unknown type ${m}`)}}else{const m=new Array(f.length);i[p]=m;for(let y=0;y<f.length;y+=1){const g=f[y];g!==Ot&&(m[y]=d(g))}}else{const m={};i[p]=m;for(const y in f){const g=f[y];m[y]=d(g)}}return i[p]}return d(0)}function xt(e){return e.filter(o=>o!=null)}var et;const Y=(et=rt(nt))!=null?et:{};var tt;const ne=(tt=rt(at))!=null?tt:{};function Se(e){Y[e]=ae()}function Dt(e,o){var qe;const c=It(e),i=e.nodes[0],d=e.nodes[1];i(),d();const p=document.documentElement,P=[],f=[];let m=null;const y={before_navigate:[],after_navigate:[]};let g={branch:[],error:null,url:null},D=!1,T=!1,E=!0,$=!1,j=!1,X=!1,K=!1,z,x=(qe=history.state)==null?void 0:qe[H];x||(x=Date.now(),history.replaceState(J(M({},history.state),{[H]:x}),"",location.href));const ge=Y[x];ge&&(history.scrollRestoration="manual",scrollTo(ge.x,ge.y));let B,Ie,ie;function Ae(){return I(this,null,function*(){ie=ie||Promise.resolve(),yield ie,ie=null;const n=new URL(location.href),t=Q(n,!0);m=null,yield je(t,n,[])})}function Pe(n){f.some(t=>t==null?void 0:t.snapshot)&&(ne[n]=f.map(t=>{var a;return(a=t==null?void 0:t.snapshot)==null?void 0:a.capture()}))}function Oe(n){var t;(t=ne[n])==null||t.forEach((a,r)=>{var l,s;(s=(l=f[r])==null?void 0:l.snapshot)==null||s.restore(a)})}function ye(_,v,k,w){return I(this,arguments,function*(n,{noScroll:t=!1,replaceState:a=!1,keepFocus:r=!1,state:l={},invalidateAll:s=!1},h,R){return typeof n=="string"&&(n=new URL(n,Ge(document))),fe({url:n,scroll:t?ae():null,keepfocus:r,redirect_chain:h,details:{state:l,replaceState:a},nav_token:R,accepted:()=>{s&&(K=!0)},blocked:()=>{},type:"goto"})})}function Ue(n){return I(this,null,function*(){return m={id:n.id,promise:$e(n).then(t=>(t.type==="loaded"&&t.state.error&&(m=null),t))},m.promise})}function se(...n){return I(this,null,function*(){const a=c.filter(r=>n.some(l=>r.exec(l))).map(r=>Promise.all([...r.layouts,r.leaf].map(l=>l==null?void 0:l[1]())));yield Promise.all(a)})}function je(R,_,v,k,w){return I(this,arguments,function*(n,t,a,r,l,s={},h){var q,N,L;Ie=s;let b=n&&(yield $e(n));if(b||(b=yield Ce(t,{id:null},yield te(new Error(`Not found: ${t.pathname}`),{url:t,params:{},route:{id:null}}),404)),t=(n==null?void 0:n.url)||t,Ie!==s)return!1;if(b.type==="redirect")if(a.length>10||a.includes(t.pathname))b=yield ce({status:500,error:yield te(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}});else return ye(new URL(b.location,t).href,{},[...a,t.pathname],s),!1;else((q=b.props.page)==null?void 0:q.status)>=400&&(yield V.updated.check())&&(yield ee(t));if(P.length=0,K=!1,$=!0,r&&(Se(r),Pe(r)),(N=b.props.page)!=null&&N.url&&b.props.page.url.pathname!==t.pathname&&(t.pathname=(L=b.props.page)==null?void 0:L.url.pathname),l&&l.details){const{details:A}=l,F=A.replaceState?0:1;if(A.state[H]=x+=F,history[A.replaceState?"replaceState":"pushState"](A.state,"",t),!A.replaceState){let C=x+1;for(;ne[C]||Y[C];)delete ne[C],delete Y[C],C+=1}}if(m=null,T?(g=b.state,b.props.page&&(b.props.page.url=t),z.$set(b.props)):Ne(b),l){const{scroll:A,keepfocus:F}=l,{activeElement:C}=document;yield pe();const ue=document.activeElement!==C&&document.activeElement!==document.body;if(!F&&!ue&&(yield Re()),E){const u=t.hash&&document.getElementById(decodeURIComponent(t.hash.slice(1)));A?scrollTo(A.x,A.y):u?u.scrollIntoView():scrollTo(0,0)}}else yield pe();E=!0,b.props.page&&(B=b.props.page),h&&h(),$=!1})}function Ne(n){var r,l;g=n.state;const t=document.querySelector("style[data-sveltekit]");t&&t.remove(),B=n.props.page,z=new e.root({target:o,props:J(M({},n.props),{stores:V,components:f}),hydrate:!0}),Oe(x);const a={from:null,to:{params:g.params,route:{id:(l=(r=g.route)==null?void 0:r.id)!=null?l:null},url:new URL(location.href)},willUnload:!1,type:"enter"};y.after_navigate.forEach(s=>s(a)),T=!0}function Z(R){return I(this,arguments,function*({url:n,params:t,branch:a,status:r,error:l,route:s,form:h}){var N;let _="never";for(const L of a)(L==null?void 0:L.slash)!==void 0&&(_=L.slash);n.pathname=ut(n.pathname,_),n.search=n.search;const v={type:"loaded",state:{url:n,params:t,branch:a,error:l,route:s},props:{constructors:xt(a).map(L=>L.node.component)}};h!==void 0&&(v.props.form=h);let k={},w=!B,b=0;for(let L=0;L<Math.max(a.length,g.branch.length);L+=1){const A=a[L],F=g.branch[L];(A==null?void 0:A.data)!==(F==null?void 0:F.data)&&(w=!0),A&&(k=M(M({},k),A.data),w&&(v.props[`data_${b}`]=k),b+=1)}return(!g.url||n.href!==g.url.href||g.error!==l||h!==void 0&&h!==B.form||w)&&(v.props.page={error:l,params:t,route:{id:(N=s==null?void 0:s.id)!=null?N:null},status:r,url:new URL(n),form:h!=null?h:null,data:w?k:B.data}),v})}function we(h){return I(this,arguments,function*({loader:n,parent:t,url:a,params:r,route:l,server_data_node:s}){var k,w,b,q,N,L,A;let R=null;const _={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},v=yield n();if((k=v.universal)!=null&&k.load){let F=function(...u){for(const O of u){const{href:S}=new URL(O,a);_.dependencies.add(S)}},ue;const C={route:{get id(){return _.route=!0,l.id}},params:new Proxy(r,{get:(u,O)=>(_.params.add(O),u[O])}),data:(w=s==null?void 0:s.data)!=null?w:null,url:mt(a,()=>{_.url=!0}),fetch(u,O){return I(this,null,function*(){let S;u instanceof Request?(S=u.url,O=M({body:u.method==="GET"||u.method==="HEAD"?void 0:yield u.blob(),cache:u.cache,credentials:u.credentials,headers:u.headers,integrity:u.integrity,keepalive:u.keepalive,method:u.method,mode:u.mode,redirect:u.redirect,referrer:u.referrer,referrerPolicy:u.referrerPolicy,signal:u.signal},O)):S=u;const U=new URL(S,a);return F(U.href),U.origin===a.origin&&(S=U.href.slice(a.origin.length)),T?vt(S,U.href,O):bt(S,O)})},setHeaders:()=>{},depends:F,parent(){return _.parent=!0,t()}};R=(b=yield v.universal.load.call(null,C))!=null?b:null,R=R?yield At(R):null}return{node:v,loader:n,server:s,universal:(q=v.universal)!=null&&q.load?{type:"data",data:R,uses:_}:null,data:(N=R!=null?R:s==null?void 0:s.data)!=null?N:null,slash:(A=(L=v.universal)==null?void 0:L.trailingSlash)!=null?A:s==null?void 0:s.slash}})}function Te(n,t,a,r,l){if(K)return!0;if(!r)return!1;if(r.parent&&n||r.route&&t||r.url&&a)return!0;for(const s of r.params)if(l[s]!==g.params[s])return!0;for(const s of r.dependencies)if(P.some(h=>h(new URL(s))))return!0;return!1}function _e(n,t){return(n==null?void 0:n.type)==="data"?n:(n==null?void 0:n.type)==="skip"&&t!=null?t:null}function $e(s){return I(this,arguments,function*({id:n,invalidating:t,url:a,params:r,route:l}){var ue;if((m==null?void 0:m.id)===n)return m.promise;const{errors:h,layouts:R,leaf:_}=l,v=[...R,_];h.forEach(u=>u==null?void 0:u().catch(()=>{})),v.forEach(u=>u==null?void 0:u[1]().catch(()=>{}));let k=null;const w=g.url?n!==g.url.pathname+g.url.search:!1,b=g.route?l.id!==g.route.id:!1;let q=!1;const N=v.map((u,O)=>{var G;const S=g.branch[O],U=!!(u!=null&&u[0])&&((S==null?void 0:S.loader)!==u[1]||Te(q,b,w,(G=S.server)==null?void 0:G.uses,r));return U&&(q=!0),U});if(N.some(Boolean)){try{k=yield Qe(a,N)}catch(u){return ce({status:u instanceof re?u.status:500,error:yield te(u,{url:a,params:r,route:{id:l.id}}),url:a,route:l})}if(k.type==="redirect")return k}const L=k==null?void 0:k.nodes;let A=!1;const F=v.map((u,O)=>I(this,null,function*(){var be;if(!u)return;const S=g.branch[O],U=L==null?void 0:L[O];if((!U||U.type==="skip")&&u[1]===(S==null?void 0:S.loader)&&!Te(A,b,w,(be=S.universal)==null?void 0:be.uses,r))return S;if(A=!0,(U==null?void 0:U.type)==="error")throw U;return we({loader:u[1],url:a,params:r,route:l,parent:()=>I(this,null,function*(){var Me;const Fe={};for(let ve=0;ve<O;ve+=1)Object.assign(Fe,(Me=yield F[ve])==null?void 0:Me.data);return Fe}),server_data_node:_e(U===void 0&&u[0]?{type:"skip"}:U!=null?U:null,u[0]?S==null?void 0:S.server:void 0)})}));for(const u of F)u.catch(()=>{});const C=[];for(let u=0;u<v.length;u+=1)if(v[u])try{C.push(yield F[u])}catch(O){if(O instanceof Xe)return{type:"redirect",location:O.location};let S=500,U;if(L!=null&&L.includes(O))S=(ue=O.status)!=null?ue:S,U=O.error;else if(O instanceof re)S=O.status,U=O.body;else{if(yield V.updated.check())return yield ee(a);U=yield te(O,{params:r,url:a,route:{id:l.id}})}const G=yield xe(u,C,h);return G?yield Z({url:a,params:r,branch:C.slice(0,G.idx).concat(G.node),status:S,error:U,route:l}):yield Ce(a,{id:l.id},U,S)}else C.push(void 0);return yield Z({url:a,params:r,branch:C,status:200,error:null,route:l,form:t?void 0:null})})}function xe(n,t,a){return I(this,null,function*(){for(;n--;)if(a[n]){let r=n;for(;!t[r];)r-=1;try{return{idx:r+1,node:{node:yield a[n](),loader:a[n],data:{},server:null,universal:null}}}catch(l){continue}}})}function ce(l){return I(this,arguments,function*({status:n,error:t,url:a,route:r}){var k;const s={};let h=null;if(e.server_loads[0]===0)try{const w=yield Qe(a,[!0]);if(w.type!=="data"||w.nodes[0]&&w.nodes[0].type!=="data")throw 0;h=(k=w.nodes[0])!=null?k:null}catch(w){(a.origin!==location.origin||a.pathname!==location.pathname||D)&&(yield ee(a))}const _=yield we({loader:i,url:a,params:s,route:r,parent:()=>Promise.resolve({}),server_data_node:_e(h)}),v={node:yield d(),loader:d,universal:null,server:null,data:null};return yield Z({url:a,params:s,branch:[_,v],status:n,error:t,route:null})})}function Q(n,t){if(Ye(n,W))return;const a=le(n);for(const r of c){const l=r.exec(a);if(l)return{id:n.pathname+n.search,invalidating:t,route:r,params:pt(l),url:n}}}function le(n){return dt(n.pathname.slice(W.length)||"/")}function De({url:n,type:t,intent:a,delta:r}){var R,_,v,k,w;let l=!1;const s={from:{params:g.params,route:{id:(_=(R=g.route)==null?void 0:R.id)!=null?_:null},url:g.url},to:{params:(v=a==null?void 0:a.params)!=null?v:null,route:{id:(w=(k=a==null?void 0:a.route)==null?void 0:k.id)!=null?w:null},url:n},willUnload:!a,type:t};r!==void 0&&(s.delta=r);const h=J(M({},s),{cancel:()=>{l=!0}});return j||y.before_navigate.forEach(b=>b(h)),l?null:s}function fe(k){return I(this,arguments,function*({url:n,scroll:t,keepfocus:a,redirect_chain:r,details:l,type:s,delta:h,nav_token:R,accepted:_,blocked:v}){const w=Q(n,!1),b=De({url:n,type:s,delta:h,intent:w});if(!b){v();return}const q=x;_(),j=!0,T&&V.navigating.set(b),yield je(w,n,r,q,{scroll:t,keepfocus:a,details:l},R,()=>{j=!1,y.after_navigate.forEach(N=>N(b)),V.navigating.set(null)})})}function Ce(n,t,a,r){return I(this,null,function*(){return n.origin===location.origin&&n.pathname===location.pathname&&!D?yield ce({status:r,error:a,url:n,route:t}):yield ee(n)})}function ee(n){return location.href=n.href,new Promise(()=>{})}function it(){let n;p.addEventListener("mousemove",s=>{const h=s.target;clearTimeout(n),n=setTimeout(()=>{r(h,2)},20)});function t(s){r(s.composedPath()[0],1)}p.addEventListener("mousedown",t),p.addEventListener("touchstart",t,{passive:!0});const a=new IntersectionObserver(s=>{for(const h of s)h.isIntersecting&&(se(le(new URL(h.target.href))),a.unobserve(h.target))},{threshold:0});function r(s,h){const R=Je(s,p);if(!R)return;const{url:_,external:v}=Ee(R,W);if(v)return;const k=he(R);if(!k.reload)if(h<=k.preload_data){const w=Q(_,!1);w&&Ue(w)}else h<=k.preload_code&&se(le(_))}function l(){a.disconnect();for(const s of p.querySelectorAll("a")){const{url:h,external:R}=Ee(s,W);if(R)continue;const _=he(s);_.reload||(_.preload_code===We.viewport&&a.observe(s),_.preload_code===We.eager&&se(le(h)))}}y.after_navigate.push(l),l()}function te(n,t){var a;return n instanceof re?n.body:(a=e.hooks.handleError({error:n,event:t}))!=null?a:{message:t.route.id!=null?"Internal Error":"Not Found"}}return{after_navigate:n=>{Be(()=>(y.after_navigate.push(n),()=>{const t=y.after_navigate.indexOf(n);y.after_navigate.splice(t,1)}))},before_navigate:n=>{Be(()=>(y.before_navigate.push(n),()=>{const t=y.before_navigate.indexOf(n);y.before_navigate.splice(t,1)}))},disable_scroll_handling:()=>{($||!T)&&(E=!1)},goto:(n,t={})=>ye(n,t,[]),invalidate:n=>{if(typeof n=="function")P.push(n);else{const{href:t}=new URL(n,location.href);P.push(a=>a.href===t)}return Ae()},invalidateAll:()=>(K=!0,Ae()),preload_data:n=>I(this,null,function*(){const t=new URL(n,Ge(document)),a=Q(t,!1);if(!a)throw new Error(`Attempted to preload a URL that does not belong to this app: ${t}`);yield Ue(a)}),preload_code:se,apply_action:n=>I(this,null,function*(){var t;if(n.type==="error"){const a=new URL(location.href),{branch:r,route:l}=g;if(!l)return;const s=yield xe(g.branch.length,r,l.errors);if(s){const h=yield Z({url:a,params:g.params,branch:r.slice(0,s.idx).concat(s.node),status:(t=n.status)!=null?t:500,error:n.error,route:l});g=h.state,z.$set(h.props),pe().then(Re)}}else if(n.type==="redirect")ye(n.location,{invalidateAll:!0},[]);else{const a={form:n.data,page:J(M({},B),{form:n.data,status:n.status})};z.$set(a),n.type==="success"&&pe().then(Re)}}),_start_router:()=>{var n;history.scrollRestoration="manual",addEventListener("beforeunload",t=>{var r,l;let a=!1;if(!j){const s={from:{params:g.params,route:{id:(l=(r=g.route)==null?void 0:r.id)!=null?l:null},url:g.url},to:null,willUnload:!0,type:"leave",cancel:()=>a=!0};y.before_navigate.forEach(h=>h(s))}a?(t.preventDefault(),t.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(Se(x),Ze(nt,Y),Pe(x),Ze(at,ne))}),(n=navigator.connection)!=null&&n.saveData||it(),p.addEventListener("click",t=>{if(t.button||t.which!==1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.defaultPrevented)return;const a=Je(t.composedPath()[0],p);if(!a)return;const{url:r,external:l,target:s}=Ee(a,W);if(!r)return;if(s==="_parent"||s==="_top"){if(window.parent!==window)return}else if(s&&s!=="_self")return;const h=he(a);if(!(a instanceof SVGAElement)&&r.protocol!==location.protocol&&!(r.protocol==="https:"||r.protocol==="http:"))return;if(l||h.reload){De({url:r,type:"link"})||t.preventDefault(),j=!0;return}const[_,v]=r.href.split("#");if(v!==void 0&&_===location.href.split("#")[0]){X=!0,Se(x),g.url=r,V.page.set(J(M({},B),{url:r})),V.page.notify();return}fe({url:r,scroll:h.noscroll?ae():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:r.href===location.href},accepted:()=>t.preventDefault(),blocked:()=>t.preventDefault(),type:"link"})}),p.addEventListener("submit",t=>{var w;if(t.defaultPrevented)return;const a=HTMLFormElement.prototype.cloneNode.call(t.target),r=t.submitter;if(((r==null?void 0:r.formMethod)||a.method)!=="get")return;const s=new URL((r==null?void 0:r.hasAttribute("formaction"))&&(r==null?void 0:r.formAction)||a.action);if(Ye(s,W))return;const h=t.target,{noscroll:R,reload:_}=he(h);if(_)return;t.preventDefault(),t.stopPropagation();const v=new FormData(h),k=r==null?void 0:r.getAttribute("name");k&&v.append(k,(w=r==null?void 0:r.getAttribute("value"))!=null?w:""),s.search=new URLSearchParams(v).toString(),fe({url:s,scroll:R?ae():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:!1},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"})}),addEventListener("popstate",t=>I(this,null,function*(){var a;if((a=t.state)!=null&&a[H]){if(t.state[H]===x)return;const r=Y[t.state[H]];if(g.url.href.split("#")[0]===location.href.split("#")[0]){Y[x]=ae(),x=t.state[H],scrollTo(r.x,r.y);return}const l=t.state[H]-x;let s=!1;yield fe({url:new URL(location.href),scroll:r,keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{x=t.state[H]},blocked:()=>{history.go(-l),s=!0},type:"popstate",delta:l}),s||Oe(x)}})),addEventListener("hashchange",()=>{X&&(X=!1,history.replaceState(J(M({},history.state),{[H]:++x}),"",location.href))});for(const t of document.querySelectorAll("link"))t.rel==="icon"&&(t.href=t.href);addEventListener("pageshow",t=>{t.persisted&&V.navigating.set(null)})},_hydrate:R=>I(this,[R],function*({status:n=200,error:t,node_ids:a,params:r,route:l,data:s,form:h}){var k;D=!0;const _=new URL(location.href);({params:r={},route:l={id:null}}=Q(_,!1)||{});let v;try{const w=a.map((b,q)=>I(this,null,function*(){const N=s[q];return N!=null&&N.uses&&(N.uses=ot(N.uses)),we({loader:e.nodes[b],url:_,params:r,route:l,parent:()=>I(this,null,function*(){const L={};for(let A=0;A<q;A+=1)Object.assign(L,(yield w[A]).data);return L}),server_data_node:_e(N)})}));v=yield Z({url:_,params:r,branch:yield Promise.all(w),status:n,error:t,form:h,route:(k=c.find(({id:b})=>b===l.id))!=null?k:null})}catch(w){if(w instanceof Xe){yield ee(new URL(w.location,location.href));return}v=yield ce({status:w instanceof re?w.status:500,error:yield te(w,{url:_,params:r,route:l}),url:_,route:l})}Ne(v)})}}function Qe(e,o){return I(this,null,function*(){const c=new URL(e);c.pathname=wt(e.pathname),c.searchParams.append("x-sveltekit-invalidated",o.map(d=>d?"1":"").join("_"));const i=yield me(c.href);if(!i.ok)throw new re(i.status,yield i.json());return new Promise(d=>I(this,null,function*(){var g;const p=new Map,P=i.body.getReader(),f=new TextDecoder;function m(D){return $t(D,{Promise:T=>new Promise((E,$)=>{p.set(T,{fulfil:E,reject:$})})})}let y="";for(;;){const{done:D,value:T}=yield P.read();if(D&&!y)break;for(y+=!T&&y?`
`:f.decode(T);;){const E=y.indexOf(`
`);if(E===-1)break;const $=JSON.parse(y.slice(0,E));if(y=y.slice(E+1),$.type==="redirect")return d($);if($.type==="data")(g=$.nodes)==null||g.forEach(j=>{(j==null?void 0:j.type)==="data"&&(j.uses=ot(j.uses),j.data=m(j.data))}),d($);else if($.type==="chunk"){const{id:j,data:X,error:K}=$,z=p.get(j);p.delete(j),K?z.reject(m(K)):z.fulfil(m(X))}}}}))})}function ot(e){var o,c;return{dependencies:new Set((o=e==null?void 0:e.dependencies)!=null?o:[]),params:new Set((c=e==null?void 0:e.params)!=null?c:[]),parent:!!(e!=null&&e.parent),route:!!(e!=null&&e.route),url:!!(e!=null&&e.url)}}function Re(){const e=document.querySelector("[autofocus]");if(e)e.focus();else{const o=document.body,c=o.getAttribute("tabindex");return o.tabIndex=-1,o.focus({preventScroll:!0}),c!==null?o.setAttribute("tabindex",c):o.removeAttribute("tabindex"),new Promise(i=>{setTimeout(()=>{var d;i((d=getSelection())==null?void 0:d.removeAllRanges())})})}}function Vt(e,o,c){return I(this,null,function*(){const i=Dt(e,o);ft({client:i}),c?yield i._hydrate(c):i.goto(location.href,{replaceState:!0}),i._start_router()})}export{Vt as start};
